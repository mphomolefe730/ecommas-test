"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[727],{3727:(ke,v,d)=>{d.r(v),d.d(v,{ShoppingCatalogueModule:()=>qe});var u=d(6814),p=d(8589),g=d(5861),e=d(4946),m=d(5993),O=d(450),h=d(1064);function Z(r,s){1&r&&(e.TgZ(0,"div",3)(1,"div")(2,"h3"),e._uU(3,"Recently Viewed"),e.qZA()(),e.TgZ(4,"div")(5,"button",4),e._uU(6,"MORE"),e.qZA()()())}function M(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"p",16),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.action)}),e._uU(1),e.qZA()}if(2&r){const t=s.$implicit;e.Q6J("routerLink",t.path),e.xp6(1),e.hij("",t.name," ")}}function T(r,s){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,M,2,2,"p",15),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.extraMenuTabs)}}function w(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("mouseup",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.removeMouseDown(o._id,o.name))})("touchend",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.removeMouseDown(o._id,o.name))})("touchstart",function(n){const a=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.showMoreOptions(a,n))})("mousedown",function(){const o=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.showMoreOptions(o))}),e._UZ(1,"img",8),e.TgZ(2,"div",9)(3,"h1",10),e._uU(4),e.qZA(),e.TgZ(5,"p",11),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div")(9,"span"),e._uU(10),e._UZ(11,"br"),e._uU(12,"Rating"),e.qZA()()()(),e.YNc(13,T,2,1,"div",13),e.qZA()}if(2&r){const t=s.$implicit,i=s.index,n=e.oxw(2);e.xp6(1),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.MGl("title","$",t.name,""),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(4),e.hij("R ",t.price,""),e.xp6(3),e.Q6J("ngIf",n.menuStatus&&i==n.numberClickedOn)}}function I(r,s){if(1&r&&(e.TgZ(0,"div",5),e.YNc(1,w,14,6,"div",6),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.recentVisited)}}function S(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.viewProduct(n._id,n.name))}),e._UZ(1,"img",8),e.TgZ(2,"div",9)(3,"h1",10),e._uU(4),e.qZA(),e.TgZ(5,"p",11),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div")(9,"span"),e._uU(10),e._UZ(11,"br"),e._uU(12,"Rating"),e.qZA()()()()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.MGl("title","$",t.name,""),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(4),e.hij("R ",t.price,"")}}function q(r,s){if(1&r&&(e.ynx(0),e.YNc(1,S,13,5,"div",18),e.BQk()),2&r){const t=s.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.categories.includes(i._id))}}function A(r,s){if(1&r&&(e.TgZ(0,"div")(1,"div",3)(2,"div")(3,"h3"),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"button",4),e._uU(7,"MORE"),e.qZA()()(),e.TgZ(8,"div",17),e.YNc(9,q,2,1,"ng-container",2),e.qZA()()),2&r){const t=s.$implicit,i=e.oxw();e.xp6(4),e.Oqu(t.name),e.xp6(5),e.Q6J("ngForOf",i.productsToShow)}}let k=(()=>{class r{constructor(t,i,n,o){this.productService=t,this.categoryService=i,this.router=n,this.toaster=o,this.products=[],this.recentVisited=[],this.activeCategory=[],this.productsToShow=[],this.menuStatus=!1,this.numberClickedOn=0,this.sellerId="",this.extraMenuTabs=[{name:"View Seller",path:"",icon:"",action:null},{name:"Add To Cart",path:"",icon:"",action:this.addToCart}]}ngOnInit(){let t=String(this.productService.recentlyViewed);0!=JSON.parse(t).length&&JSON.parse(t).forEach(n=>{this.productService.getProductById(n).subscribe(o=>{this.recentVisited.push(o),console.log(this.recentVisited)})}),this.categoryService.getActiveCategory().subscribe(n=>{n.forEach(a=>{this.activeCategory.push(a)}),this.activeCategory.forEach(a=>{this.categoryService.getByCategory(a._id).subscribe(l=>{l.forEach(C=>{this.productsToShow.unshift(C)})})})})}viewProduct(t,i){var n=this;return(0,g.Z)(function*(){n.productService.addToRecentlyViewedProduct(t);const o=i.split(" ").join("-");n.router.navigate([`product/${o}/pd/${t}`])})()}showMoreOptions(t,i=-1){console.log("mouse down actived"),-1!=i&&i.preventDefault(),this.containerForDelayEvent=setTimeout(()=>{console.log("show extra menu"),this.menuStatus=!0;let n=this.extraMenuTabs.findIndex(o=>"View Seller"==o.name);-1!=n&&(this.extraMenuTabs[n].path=`profile/${this.recentVisited[t].seller._id}`),this.numberClickedOn=t},2e3)}removeMouseDown(t,i){console.log("remove mouse down"),clearTimeout(this.containerForDelayEvent),this.menuStatus||this.viewProduct(t,i),setTimeout(()=>{this.menuStatus=!1},5e3)}addToCart(){this.toaster.success({detail:"SUCCESS",summary:"Product added to cart"}),console.log("working")}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(m.M),e.Y36(O.H),e.Y36(p.F0),e.Y36(h.s))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:3,consts:[["id","productItemCatergoryBar",4,"ngIf"],["id","recentsVisits",4,"ngIf"],[4,"ngFor","ngForOf"],["id","productItemCatergoryBar"],[1,"seeMore"],["id","recentsVisits"],["class","item",3,"mouseup","touchend","touchstart","mousedown",4,"ngFor","ngForOf"],[1,"item",3,"mouseup","touchend","touchstart","mousedown"],["alt","Product Image",1,"product-image",3,"src"],[1,"ItemDescription"],[1,"productname",3,"title"],[1,"productdescription"],[1,"productprice"],["class","extraMenuStyle",4,"ngIf"],[1,"extraMenuStyle"],[3,"routerLink","click",4,"ngFor","ngForOf"],[3,"routerLink","click"],["id","productItemsDisplay"],["class","item",3,"click",4,"ngIf"],[1,"item",3,"click"]],template:function(i,n){1&i&&(e.YNc(0,Z,7,0,"div",0),e.YNc(1,I,2,1,"div",1),e.YNc(2,A,10,2,"div",2)),2&i&&(e.Q6J("ngIf",0!=n.recentVisited.length),e.xp6(1),e.Q6J("ngIf",0!=n.recentVisited.length),e.xp6(1),e.Q6J("ngForOf",n.activeCategory))},dependencies:[u.sg,u.O5,p.rH],styles:["#productItemsDisplay[_ngcontent-%COMP%], #recentsVisits[_ngcontent-%COMP%]{max-height:500px;display:flex;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:10px}#productItemsDisplay[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}#productItemCatergoryBar[_ngcontent-%COMP%]{display:grid;grid-template-columns:5fr 1fr;margin-bottom:10px;text-transform:uppercase}#productItemCatergoryBar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:var(--box-margin)}#productItemCatergoryBar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;color:var(--accent-color);border:2px solid black;width:100%;height:100%;border-radius:var(--border-10);transition:background-color 1.5s,color 1.5s,ease-in-out}#productItemCatergoryBar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;font-weight:500}.item[_ngcontent-%COMP%]{position:relative}.extraMenuStyle[_ngcontent-%COMP%]{position:absolute;background-color:#435d5080;top:50%;left:20%;border-radius:var(--border-10)}.extraMenuStyle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:var(--border-10);margin:var(--border-10);border-radius:var(--border-10)}"]})}return r})();var c=d(95),_=d(1836);let U=(()=>{class r{constructor(t){this.authService=t,this.loginForm=new c.cw({email:new c.NI(""),hashedPassword:new c.NI("")}),this.buttonText="SIGN-IN",this.progressLoader="../../../assets/icons/loader.gif",this.logoOfCompany="../../../assets/icons/logo.svg"}ngOnInit(){}signInUser(){this.loginForm.value&&this.authService.logIn(this.loginForm.value)}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(_.e))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"master"],[1,"content-container"],["action","",3,"formGroup","ngSubmit"],["alt","logo",1,"logo",3,"src"],[2,"color","rgba(0,0,0,0.5)","margin","2px","text-align","center"],["for","email"],[2,"margin","2px"],["type","text","formControlName","email","placeholder","Email"],["for","password"],["type","password","formControlName","hashedPassword","placeholder","Password"],["routerLink","/sign-up"],[1,"action2"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.signInUser()}),e.TgZ(3,"p"),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h1"),e._uU(6," WELCOME "),e.qZA(),e.TgZ(7,"p",4),e._uU(8,"sign in for a better experience"),e.qZA(),e.TgZ(9,"div")(10,"label",5)(11,"h3",6),e._uU(12,"EMAIL: "),e.qZA()(),e._UZ(13,"input",7),e.qZA(),e.TgZ(14,"div")(15,"label",8)(16,"h3",6),e._uU(17,"PASSWORD: "),e.qZA()(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"p"),e._uU(20,"Don't have an acount? "),e.TgZ(21,"a",10),e._uU(22,"sign-up"),e.qZA()(),e.TgZ(23,"div")(24,"button",11),e._uU(25),e.qZA()()()()()),2&i&&(e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(2),e.Q6J("src",n.logoOfCompany,e.LSH),e.xp6(21),e.Oqu(n.buttonText))},dependencies:[p.rH,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".master[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;left:0;top:0;background-image:url(african_market_street_image.10882663b9279e7d.jpeg);background-repeat:no-repeat;background-size:cover}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;width:100%;max-height:100px}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:var(--border-10);padding:var(--border-10);flex-direction:column}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 1fr;width:100%;margin:5px 0}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:5px 0;width:100%;min-height:20%}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .action2[_ngcontent-%COMP%]{padding:10px}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .action2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px}"]})}return r})();class F{static match(){return s=>{const t=s.get("password"),i=s.get("confirmPassword");return t&&i?t.value!==i.value?(i.setErrors({mismatch:!0}),{mismatch:!0}):(i.setErrors(null),null):null}}}var f=d(3076),N=d(756);function J(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Name is a required field"),e.qZA())}function Y(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Surname is a required field"),e.qZA())}function D(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Email is a required field"),e.qZA())}function E(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Enter a valid email"),e.qZA())}function R(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Phone number is a required field"),e.qZA())}function Q(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Contact number should be 10 numerical characters"),e.qZA())}function H(r,s){if(1&r&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.role)}}function L(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Role is a required field"),e.qZA())}function j(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Business name is a required field"),e.qZA())}function V(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Business description field is a required field"),e.qZA())}function $(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Password field is required"),e.qZA())}function B(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1," - Must be at least 8 characters long."),e.qZA())}function G(r,s){1&r&&(e.TgZ(0,"div",36)(1,"p"),e._uU(2," - Must include at least one lowercase."),e.qZA(),e.TgZ(3,"p"),e._uU(4," - Must include at least one uppercase."),e.qZA(),e.TgZ(5,"p"),e._uU(6," - Must include at least one digit."),e.qZA(),e.TgZ(7,"p"),e._uU(8," - Must include at least one special character"),e.qZA(),e.TgZ(9,"p"),e._uU(10," - List of special characters "),e.TgZ(11,"span"),e._uU(12,"! @ # $ % ^ & ? "),e.qZA()()())}function z(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Confirm password is a required field"),e.qZA())}function K(r,s){1&r&&(e.TgZ(0,"p",36),e._uU(1,"Passwords don't match"),e.qZA())}let X=(()=>{class r{constructor(t,i){this.userService=t,this.roleService=i,this.formSubmitted=!1,this.hidePassword=!0,this.hideConfirmPassword=!0,this.rolesSelector=[]}ngOnInit(){this.signupForm=new c.cw({role:new c.NI("",c.kI.required),email:new c.NI("",[c.kI.required,c.kI.email]),businessName:new c.NI("",c.kI.required),businessDescription:new c.NI("",c.kI.required),name:new c.NI("",c.kI.required),surname:new c.NI("",c.kI.required),number:new c.NI("",[c.kI.required,c.kI.pattern(/^-?(0|[0-9]\d*)?$/),c.kI.maxLength(10),c.kI.minLength(10)]),password:new c.NI("",[c.kI.required,c.kI.minLength(8),c.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&?*])[a-zA-Z\d!@#$%^&?*]+$/)]),confirmPassword:new c.NI("",c.kI.required)},{validators:F.match()})}ngAfterViewInit(){var t=this;return(0,g.Z)(function*(){setTimeout((0,g.Z)(function*(){yield t.roleService.role.forEach(i=>{"admin"!=i.role&&t.rolesSelector.push(i)})}),2500)})()}togglePassword(t){t.preventDefault(),this.hidePassword=!this.hidePassword}toggleConfirmPassword(t){t.preventDefault(),this.hideConfirmPassword=!this.hideConfirmPassword}onSubmit(){this.formSubmitted=!0;const t={businessName:this.signupForm.value.businessName,businessDescription:this.signupForm.value.businessDescription,hashedPassword:this.signupForm.value.password,name:this.signupForm.value.name,surname:this.signupForm.value.surname,email:this.signupForm.value.email,number:this.signupForm.value.number,role:this.signupForm.value.role,profileImage:""};this.signupForm.valid?(this.formSubmitted=!0,this.userService.createUser(t).subscribe(i=>{console.log(i)},i=>{this.formSubmitted=!1,console.log(i)})):console.log("Failed to create account")}get email(){return this.signupForm.get("email")}get role(){return this.signupForm.get("role")}get businessName(){return this.signupForm.get("businessName")}get businessDescription(){return this.signupForm.get("businessDescription")}get name(){return this.signupForm.get("name")}get surname(){return this.signupForm.get("surname")}get number(){return this.signupForm.get("number")}get password(){return this.signupForm.get("password")}get confirmPassword(){return this.signupForm.get("confirmPassword")}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(f.K),e.Y36(N.N))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:79,vars:17,consts:[[1,"isolate","bg-white","px-6","py-24","sm:py-32","lg:px-8"],["aria-hidden","true",1,"absolute","inset-x-0","top-[-10rem]","-z-10","transform-gpu","overflow-hidden","blur-3xl","sm:top-[-20rem]"],[1,"relative","left-1/2","-z-10","aspect-[1155/678]","w-[36.125rem]","max-w-none","-translate-x-1/2","rotate-[30deg]","bg-gradient-to-tr","from-[#ff80b5]","to-[#9089fc]","opacity-30","sm:left-[calc(50%-40rem)]","sm:w-[72.1875rem]",2,"clip-path","polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"],[1,"mx-auto","max-w-2xl","text-center"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mt-2","text-lg","leading-8","text-gray-600"],[1,"mx-auto","mt-16","max-w-xl","sm:mt-20",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","gap-x-8","gap-y-6","sm:grid-cols-2"],["for","first-name",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],[1,"mt-2.5"],["type","text","name","first-name","id","first-name","formControlName","name","autocomplete","given-name",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["class","text-red-500",4,"ngIf"],["for","last-name",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],["type","text","name","last-name","id","last-name","formControlName","surname","autocomplete","family-name",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],[1,"sm:col-span-2"],["for","email",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],["type","email","name","email","id","email","formControlName","email","autocomplete","email",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["for","phone-number",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],[1,"relative","mt-2.5"],["type","tel","name","phone-number","id","phone-number","formControlName","number","autocomplete","tel",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["for","role",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","role","id","country","name","role","autocomplete","country-name",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:max-w-xs","sm:text-sm","sm:leading-6"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","company",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],["type","text","name","company","id","company","autocomplete","organization","formControlName","businessName",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["for","message",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],["name","message","formControlName","businessDescription","id","message","rows","4",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["type","text","name","last-name","id","last-name","autocomplete","family-name","formControlName","password",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],[4,"ngIf"],["type","text","name","last-name","id","last-name","autocomplete","family-name","formControlName","confirmPassword",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],[1,"mt-10"],["type","submit",1,"block","w-full","rounded-md","bg-green-800","px-3.5","py-2.5","text-center","text-sm","font-semibold","text-white","shadow-sm","hover:bg-green-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-green-600",3,"disabled","click"],[1,"mt-10","text-center","text-sm","text-gray-500"],["href","#","routerLink","/sign-in",1,"font-semibold","leading-6","text-green-900","hover:text-green-700"],[1,"text-red-500"],[3,"value"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5,"Sign up"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Let's get you signed-up"),e.qZA()(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",7)(10,"div")(11,"label",8),e._uU(12,"First name"),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"input",10),e.qZA(),e.YNc(15,J,2,0,"p",11),e.qZA(),e.TgZ(16,"div")(17,"label",12),e._uU(18,"Last name"),e.qZA(),e.TgZ(19,"div",9),e._UZ(20,"input",13),e.qZA(),e.YNc(21,Y,2,0,"p",11),e.qZA(),e.TgZ(22,"div",14)(23,"label",15),e._uU(24,"Email"),e.qZA(),e.TgZ(25,"div",9),e._UZ(26,"input",16),e.qZA(),e.YNc(27,D,2,0,"p",11),e.YNc(28,E,2,0,"p",11),e.qZA(),e.TgZ(29,"div",14)(30,"label",17),e._uU(31,"Phone number"),e.qZA(),e.TgZ(32,"div",18),e._UZ(33,"input",19),e.qZA(),e.YNc(34,R,2,0,"p",11),e.YNc(35,Q,2,0,"p",11),e.qZA(),e.TgZ(36,"div",14)(37,"label",20),e._uU(38,"Role"),e.qZA(),e.TgZ(39,"div",21)(40,"select",22)(41,"option",23),e._uU(42,"Choose a role"),e.qZA(),e.YNc(43,H,2,2,"option",24),e.qZA()(),e.YNc(44,L,2,0,"p",11),e.qZA(),e.TgZ(45,"div",14)(46,"label",25),e._uU(47,"Business name"),e.qZA(),e.TgZ(48,"div",9),e._UZ(49,"input",26),e.qZA(),e.YNc(50,j,2,0,"p",11),e.qZA(),e.TgZ(51,"div",14)(52,"label",27),e._uU(53,"Business description"),e.qZA(),e.TgZ(54,"div",9),e._UZ(55,"textarea",28),e.qZA(),e.YNc(56,V,2,0,"p",11),e.qZA(),e.TgZ(57,"div")(58,"label",12),e._uU(59,"Password"),e.qZA(),e.TgZ(60,"div",9),e._UZ(61,"input",29),e.qZA(),e.YNc(62,$,2,0,"p",11),e.YNc(63,B,2,0,"p",30),e.YNc(64,G,13,0,"div",11),e.qZA(),e.TgZ(65,"div")(66,"label",12),e._uU(67,"Confirm password"),e.qZA(),e.TgZ(68,"div",9),e._UZ(69,"input",31),e.qZA(),e.YNc(70,z,2,0,"p",11),e.YNc(71,K,2,0,"p",11),e.qZA()(),e.TgZ(72,"div",32)(73,"button",33),e.NdJ("click",function(){return n.onSubmit()}),e._uU(74,"Register"),e.qZA(),e.TgZ(75,"p",34),e._uU(76," Already have an acount? "),e.TgZ(77,"a",35),e._uU(78,"Sign-in"),e.qZA()()()()()),2&i&&(e.xp6(8),e.Q6J("formGroup",n.signupForm),e.xp6(7),e.Q6J("ngIf",n.name.touched&&(null==n.name.errors?null:n.name.errors.required)),e.xp6(6),e.Q6J("ngIf",n.surname.touched&&(null==n.surname.errors?null:n.surname.errors.required)),e.xp6(6),e.Q6J("ngIf",n.email.touched&&(null==n.email.errors?null:n.email.errors.required)),e.xp6(1),e.Q6J("ngIf",n.email.touched&&(null==n.email.errors?null:n.email.errors.email)),e.xp6(6),e.Q6J("ngIf",n.number.touched&&(null==n.number.errors?null:n.number.errors.required)),e.xp6(1),e.Q6J("ngIf",!n.signupForm.get("number").hasError("required")&&!n.signupForm.get("number").hasError("pattern")&&(n.signupForm.get("number").hasError("maxlength")||n.signupForm.get("number").hasError("minlength"))),e.xp6(8),e.Q6J("ngForOf",n.rolesSelector),e.xp6(1),e.Q6J("ngIf",n.role.touched&&(null==n.role.errors?null:n.role.errors.required)),e.xp6(6),e.Q6J("ngIf",n.businessName.touched&&(null==n.businessName.errors?null:n.businessName.errors.required)),e.xp6(6),e.Q6J("ngIf",n.businessDescription.touched&&(null==n.businessDescription.errors?null:n.businessDescription.errors.required)),e.xp6(6),e.Q6J("ngIf",n.password.touched&&(null==n.password.errors?null:n.password.errors.required)),e.xp6(1),e.Q6J("ngIf",null==n.password.errors?null:n.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==n.password.errors?null:n.password.errors.pattern),e.xp6(6),e.Q6J("ngIf",null==n.confirmPassword.errors?null:n.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.confirmPassword.errors?null:n.confirmPassword.errors.mismatch),e.xp6(2),e.Q6J("disabled",n.signupForm.invalid))},dependencies:[u.sg,u.O5,p.rH,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.sg,c.u],styles:[".page-content[_ngcontent-%COMP%]{display:grid;place-content:center;color:#444;margin:1.725rem}.page-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:60px}.page-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.page-content[_ngcontent-%COMP%]   .signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1000px;border-radius:12px;box-shadow:#0000000d 0 0 0 1px,#0000001a 0 2px 3px;text-align:center;gap:1.875rem;padding:10px;place-items:center}.page-content[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]{display:flex;gap:1.25rem;margin-block:.94rem}.page-content[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;border:none;box-shadow:#0000000d 0 0 0 1px,#ff81171a 0 2px 3px;border-radius:50%;width:1.75rem;height:1.75rem;padding:.94rem}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.25rem;font-size:1.25rem;justify-content:center}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5em;border-radius:5px;border:1px solid;border-color:#444}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(select), .page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(select){outline:none;height:2.5rem}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active{border:1px solid #ee7817}.page-content[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%}.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{padding:1em 3em;border:1px solid #272727;border-radius:25px;background-color:transparent;font-size:1rem;font-weight:700;text-transform:uppercase;width:0 auto;box-shadow:#0000000d 0 0 0 1px,#0000001a 0 2px 3px;transition:background-color .2s ease-out}.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:active{box-shadow:none;background-color:#f5f1ef;outline:none}.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#f5f1ef;outline:none;transform:scale(1.1)}@media (max-width: 480px){.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{font-size:.875rem}}.page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;justify-items:start;gap:8px}.page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e71f1f;text-align:left;font-size:.625rem}.page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]   .role-label[_ngcontent-%COMP%]{justify-self:center}@media only screen and (max-width: 480px){.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}.user-input-section[_ngcontent-%COMP%]{padding:20px}.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16rem}}@media only screen and (min-width: 481px) and (max-width: 768px){.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20rem}}@media only screen and (min-width: 769px) and (max-width: 1024px){.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20rem}.social-login[_ngcontent-%COMP%]{gap:1.5rem;margin-block:.95rem}.social-login[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:1.95rem;height:1.95rem;padding:.95rem}.social-login[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}}@media only screen and (min-width: 1025px){.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20rem}}"]})}return r})();class W{constructor(s,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=s,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const s=this._textarea;let t=!1;try{if(s){const i=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch{}return t}destroy(){const s=this._textarea;s&&(s.remove(),this._textarea=void 0)}}let ee=(()=>{class r{constructor(t){this._document=t}copy(t){const i=this.beginCopy(t),n=i.copy();return i.destroy(),n}beginCopy(t){return new W(t,this._document)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(u.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var te=d(2758),x=d(9947),ne=d(9862);let b=(()=>{class r{constructor(t){this.http=t}ngOnInit(){}getCartByUserId(t){return this.http.get(`${x.N.renderApiLink}/api/cart/${t}`)}updateUserCart(t,i){return this.http.put(`${x.N.renderApiLink}/api/cart/${t}`,i)}static#e=this.\u0275fac=function(i){return new(i||r)(e.LFG(ne.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),re=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-recommandations"]],decls:2,vars:0,template:function(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"recommandations works!"),e.qZA())}})}return r})();function ie(r,s){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function oe(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"select",13),e.NdJ("change",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.updateNumber(n))}),e.YNc(2,ie,2,2,"option",14),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.productOptions)}}function se(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addItemToCart())}),e._uU(1,"ADD TO CART"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.buttonDisabled)}}function ce(r,s){1&r&&(e.TgZ(0,"button",17),e._uU(1,"loading"),e.qZA())}function ae(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.removeItemFromCart(n.productDetails._id))}),e._uU(1,"REMOVE FROM CART"),e.qZA()}}const y=function(r){return{dontShow:r}};let de=(()=>{class r{constructor(t,i,n,o,a,l,C,Ae){this.activeRouter=t,this.router=i,this.productService=n,this.clipboard=o,this.app=a,this.authService=l,this.toaster=C,this.cartService=Ae,this.purchasing="addToCart",this.productSellerId="",this.buttonDisabled=!0,this.productDetails={name:"",_id:"",price:0,image:"",description:"",stock:0,seller:{name:"",surname:"",email:"",number:0,businessDescription:"",businessName:"",hashedPassword:"",profileImage:"",role:{id:"",name:""}},categories:[]},this.productOptions=[1,2,3,4,5,6],this.cartId="",this.user="",this.userId="",this.selectedOption=1,this.shoppingCart={_id:"",userId:"",items:[{productId:{_id:"",name:"",price:0,image:"",description:"",seller:""},quantity:0,price:0}]},this.inCartSellerName=""}ngOnInit(){var t=this;this.authService.loggedInUser.subscribe(function(){var i=(0,g.Z)(function*(n){null!=n&&(t.user=yield n.name,t.userId=yield n.userId,t.shoppingCart.userId=t.userId,t.cartId=n.cartId,t.cartService.getCartByUserId(t.userId).subscribe(function(){var o=(0,g.Z)(function*(a){t.shoppingCart=yield a});return function(a){return o.apply(this,arguments)}}())),t.activeRouter.params.subscribe(o=>{t.productService.getProductById(o.productid).subscribe(a=>{t.sellersid=a.seller._id,t.productSellerId=a.seller._id,t.productDetails=a,t.productDetails.seller.email="",t.productDetails.seller.surname="",t.productDetails.seller.number=0,t.shoppingCart.items.forEach(l=>{l.productId._id==o.productid&&(t.purchasing="removeFromCart")}),t.buttonDisabled=!1})})});return function(n){return i.apply(this,arguments)}}())}copyToClipBoard(){this.clipboard.copy("https://ecommerceconnect.co.za/#"+this.router.url),this.toaster.success({detail:"SUCCESS",summary:"link copied to clipboard",duration:2e3})}addItemToCart(){var t=this;return(0,g.Z)(function*(){if(""===t.userId)return void t.router.navigate(["/sign-in"]);t.purchasing="loading";const i=yield{productId:{_id:t.productDetails._id,name:t.productDetails.name,price:t.productDetails.price,image:t.productDetails.image,description:t.productDetails.description,seller:t.productSellerId},quantity:t.selectedOption,price:t.productDetails.price*t.selectedOption};let n=!1;yield t.shoppingCart.items.forEach(o=>{i.productId._id==o.productId._id&&(t.toaster.error({detail:"ERROR",summary:"Product already exist in cart",duration:3e3}),t.purchasing="removeFromCart",n=!0)}),0==n&&(yield t.shoppingCart.items.push(i),t.cartService.updateUserCart(t.userId,t.shoppingCart).subscribe(o=>{"SUCCESS"==o.status?(t.toaster.success({detail:o.status,summary:o.message}),t.purchasing="removeFromCart"):(t.toaster.error({detail:o.status,summary:o.message}),t.purchasing="addToCart")}))})()}updateNumber(t){this.selectedOption=t.target.value}viewSellerProfile(t){this.router.navigate([`./profile/${t}`])}removeItemFromCart(t){this.shoppingCart.items=this.shoppingCart.items.filter(i=>i.productId._id!==t),this.cartService.updateUserCart(this.userId,this.shoppingCart).subscribe(i=>{"SUCCESS"==i.status?(this.toaster.success({detail:i.status,summary:i.message}),this.purchasing="addToCart"):(this.toaster.error({detail:i.status,summary:i.message}),this.purchasing="removeFromCart")})}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(m.M),e.Y36(ee),e.Y36(te.y),e.Y36(_.e),e.Y36(h.s),e.Y36(b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-product"]],decls:30,vars:16,consts:[["id","main"],[1,"main-image",3,"ngClass"],["alt","",3,"src"],[1,"mobile"],[1,"splitByTwo"],[1,"second"],[1,"cursor-pointer","hover:text-cyan-600","hover:underline",3,"click"],["class","second",4,"ngIf"],[1,"productdescription2"],["id","purchase-btn",3,"disabled","click",4,"ngIf"],["id","purchase-btn",4,"ngIf"],["id","purchase-btn",3,"click",4,"ngIf"],["id","purchase-btn",2,"background-color","transparent","border","2px solid black","color","black",3,"click"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","purchase-btn",3,"disabled","click"],["id","purchase-btn"],["id","purchase-btn",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",1),e._UZ(5,"img",2),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"p",6),e.NdJ("click",function(){return n.viewSellerProfile(n.productSellerId)}),e._uU(9,"Seller: "),e.TgZ(10,"span"),e._uU(11),e.qZA()()(),e.YNc(12,oe,3,1,"div",7),e.qZA(),e.TgZ(13,"div",4)(14,"div")(15,"h3"),e._uU(16),e.qZA()(),e.TgZ(17,"div")(18,"h3"),e._uU(19),e.qZA()()(),e.TgZ(20,"p",8),e._uU(21),e.qZA(),e.TgZ(22,"div"),e.YNc(23,se,2,1,"button",9),e.YNc(24,ce,2,0,"button",10),e.YNc(25,ae,2,0,"button",11),e.qZA(),e.TgZ(26,"div")(27,"button",12),e.NdJ("click",function(){return n.copyToClipBoard()}),e._uU(28,"share item"),e.qZA()(),e._UZ(29,"app-recommandations"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("ngClass",e.VKq(12,y,n.app.deviceWidth<810)),e.xp6(1),e.Q6J("src",n.productDetails.image,e.LSH),e.xp6(2),e.Q6J("ngClass",e.VKq(14,y,n.app.deviceWidth>809)),e.xp6(1),e.Q6J("src",n.productDetails.image,e.LSH),e.xp6(6),e.Oqu(n.productDetails.seller.name),e.xp6(1),e.Q6J("ngIf",null!=n.productOptions.length),e.xp6(4),e.Oqu(n.productDetails.name),e.xp6(3),e.hij("R ",n.productDetails.price,""),e.xp6(2),e.Oqu(n.productDetails.description),e.xp6(2),e.Q6J("ngIf","addToCart"==n.purchasing),e.xp6(1),e.Q6J("ngIf","loading"==n.purchasing),e.xp6(1),e.Q6J("ngIf","removeFromCart"==n.purchasing))},dependencies:[u.mk,u.sg,u.O5,c.YN,c.Kr,re],styles:[".mobile[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:300px;object-fit:cover;border-radius:var(--border-10)}.mobile[_ngcontent-%COMP%]   .splitByTwo[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{width:100%}.mobile[_ngcontent-%COMP%]   .splitByTwo[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2.5px}.mobile[_ngcontent-%COMP%]   .splitByTwo[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;color:#fff;background-color:#000;border-radius:var(--border-10);padding:var(--border-10);border:0}.productdescription2[_ngcontent-%COMP%]{color:#00000080;margin:2px 0}#purchase-btn[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff;background-color:#000;border-radius:var(--border-10);padding:var(--border-10);margin:var(--box-margin);border:0;text-transform:uppercase}.alert[_ngcontent-%COMP%]{background-color:#000}@media (min-width: 809px){#main[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr;gap:10px}.main-image[_ngcontent-%COMP%]{max-width:350px;background-color:#f5f5c0;padding:var(--border-10);margin-top:10px;border-radius:var(--border-10)}.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}.mobile[_ngcontent-%COMP%]{margin-top:10px;background-color:#f5f5c0;padding:var(--border-10);border-radius:var(--border-10)}}"]})}return r})();var P=d(5862);function ue(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div")(3,"div")(4,"p"),e._uU(5),e.qZA()()(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"div")(9,"button",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.checkout())}),e._uU(10,"checkout"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(5),e.hij("Total: ",t.shoppingCart.items.length," items"),e.xp6(2),e.hij(" R ",t.cartTotalPrice," ")}}function le(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"img",10),e.qZA(),e.TgZ(3,"div",11)(4,"div",12)(5,"div")(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()(),e.TgZ(10,"div",13),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.removeFromCart(o.productId._id))}),e._UZ(11,"i",14),e.qZA()(),e.TgZ(12,"p",15),e._uU(13),e.qZA(),e.TgZ(14,"div",12)(15,"p"),e._uU(16,"Quantity:"),e.qZA(),e.TgZ(17,"div")(18,"input",16),e.NdJ("change",function(n){const a=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.changeValue(n,a.productId._id))}),e.qZA()()()()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("src",t.productId.image,e.LSH),e.xp6(5),e.Oqu(t.productId.name),e.xp6(2),e.hij("R ",t.price,""),e.xp6(4),e.Oqu(t.productId.description),e.xp6(5),e.Q6J("placeholder",t.quantity)}}function ge(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,le,19,5,"div",5),e.TgZ(2,"form",6)(3,"h1"),e._uU(4,"EXTRAS"),e.qZA(),e.TgZ(5,"textarea",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.extraText=n)}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.shoppingCart.items),e.xp6(4),e.Q6J("ngModel",t.extraText)}}function me(r,s){1&r&&(e.TgZ(0,"div")(1,"div",17)(2,"h1"),e._uU(3,"Your cart is empty."),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Let's fill it up with awesome stuff!"),e.qZA(),e.TgZ(6,"button",18),e._uU(7,"BROWSER ITEMS"),e.qZA()()())}let _e=(()=>{class r{constructor(t,i,n,o,a){this.inventoryService=t,this.cartService=i,this.authService=n,this.router=o,this.toaster=a,this.cartTotalPrice=0,this.extraText=null,this.shoppingCart={_id:"",userId:"",items:[{productId:{_id:"",name:"",price:0,image:"",description:"",seller:""},quantity:0,price:0}]}}ngOnInit(){var t=this;null==this.authService.isLoggedIn()&&this.router.navigate(["/sign-in"]),this.authService.loggedInUser.subscribe(function(){var i=(0,g.Z)(function*(n){null!=n&&(t.shoppingCart.userId=yield n.userId,t.cartService.getCartByUserId(n.userId).subscribe(function(){var o=(0,g.Z)(function*(a){t.shoppingCart=yield a,t.shoppingCart.items.forEach(l=>{t.cartTotalPrice+=l.price})});return function(a){return o.apply(this,arguments)}}()))});return function(n){return i.apply(this,arguments)}}())}changeValue(t,i){"change"==t.type&&(this.cartTotalPrice=0,this.shoppingCart.items.forEach(n=>{n.productId._id==i&&(n.quantity=t.target.value,n.price=n.productId.price*n.quantity),this.cartTotalPrice+=n.price}))}removeFromCart(t){this.shoppingCart.items=this.shoppingCart.items.filter(i=>i.productId._id!==t),this.cartTotalPrice=0,this.cartService.updateUserCart(this.shoppingCart.userId,this.shoppingCart).subscribe(i=>{"SUCCESS"==i.status?(this.toaster.success({detail:i.status,summary:i.message}),this.shoppingCart.items.forEach(n=>{this.cartTotalPrice+=n.productId.price*n.quantity})):this.toaster.error({detail:i.status,summary:i.message})})}checkout(){const t={user:this.shoppingCart.userId,seller:this.shoppingCart.items[0].productId.seller,items:this.shoppingCart.items,status:"UNFURFILLED",chat:[{chat:this.extraText}],total:this.cartTotalPrice};t?this.inventoryService.addToSellerInventory(t).subscribe({next:i=>{this.shoppingCart.items=[],this.cartService.updateUserCart(this.shoppingCart.userId,this.shoppingCart).subscribe(n=>{"SUCCESS"==n.status?(this.toaster.success({detail:n.status,summary:"Product(s) succussfully placed"}),this.cartTotalPrice=0,this.router.navigate([`cart/final-order/${i.message._id}`])):this.toaster.error({detail:n.status,summary:n.message})})},error:i=>{console.log(i)}}):this.toaster.error({detail:"ERROR",summary:"Order not furfilled"})}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(P.V),e.Y36(b),e.Y36(_.e),e.Y36(p.F0),e.Y36(h.s))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-cart"]],decls:3,vars:3,consts:[["class","checkout-container",4,"ngIf"],[4,"ngIf"],[1,"checkout-container"],[1,"checkout"],[1,"checkout-btn",3,"click"],["class","main",4,"ngFor","ngForOf"],[1,"mainExtras"],["name","add-on","id","add-on-textarea",3,"ngModel","ngModelChange"],[1,"main"],[1,"image"],["alt","",3,"src"],[1,"primary"],[1,"second"],[1,"bin",3,"click"],[1,"fa-solid","fa-trash"],[1,"productdescription"],["type","number",3,"placeholder","change"],[1,"holderImages"],["routerLink","/",2,"background-color","var(--accent-color)","color","white","border-radius","10px","border","0px","padding","10px","margin","10px"]],template:function(i,n){1&i&&(e.YNc(0,ue,11,2,"div",0),e.YNc(1,ge,6,2,"div",1),e.YNc(2,me,8,0,"div",1)),2&i&&(e.Q6J("ngIf",null!=n.shoppingCart&&0!=n.shoppingCart.items.length),e.xp6(1),e.Q6J("ngIf",null!=n.shoppingCart&&0!=n.shoppingCart.items.length),e.xp6(1),e.Q6J("ngIf",null==n.shoppingCart||0==n.shoppingCart.items.length))},dependencies:[u.sg,u.O5,p.rH,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F],styles:[".main[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr;margin-top:10px;background-color:#f5f5c0;padding:var(--border-10);border-radius:var(--border-10)}.main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.main[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr}p[_ngcontent-%COMP%]{margin:2px}.bin[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px}.checkout-container[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;padding:25px 0;left:0;background-color:#fff;box-shadow:0 0 5px #a7a7a7}.checkout[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.checkout[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 10px}.checkout-btn[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff;background-color:#000;border-radius:var(--border-10);padding:var(--border-10);margin:var(--box-margin);border:0;text-transform:uppercase}.mainExtras[_ngcontent-%COMP%]{margin-top:10px;background-color:#f5f5c0;padding:var(--border-10);border-radius:var(--border-10)}.mainExtras[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;min-height:150px}"]})}return r})();function he(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.viewSellerProfile(o._id))}),e._UZ(1,"img",5),e.TgZ(2,"div",6)(3,"p",7),e._uU(4),e.qZA()()()}if(2&r){const t=s.$implicit;e.xp6(1),e.Q6J("src",t.profileImage,e.LSH),e.xp6(3),e.Oqu(t.name)}}function fe(r,s){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,he,5,2,"div",3),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.seller)}}function Ce(r,s){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.viewProduct(o._id,o.name))}),e._UZ(2,"img",12),e.TgZ(3,"div",6)(4,"h1",13),e._uU(5),e.qZA(),e.TgZ(6,"p",14),e._uU(7),e.qZA(),e.TgZ(8,"div",15)(9,"div")(10,"span"),e._uU(11),e._UZ(12,"br"),e._uU(13,"rating"),e.qZA()(),e.TgZ(14,"button",16),e._uU(15,"VIEW"),e.qZA()()()(),e.BQk()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.MGl("title","$",t.name,""),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(4),e.hij("Price: R ",t.price,""),e.xp6(3),e.s9C("id",t._id)}}function ve(r,s){if(1&r&&(e.TgZ(0,"div")(1,"div",8)(2,"div")(3,"h3"),e._uU(4,"PRODUCTS"),e.qZA()()(),e.TgZ(5,"div",9),e.YNc(6,Ce,16,6,"ng-container",10),e.qZA()()),2&r){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.productsToShow)}}function xe(r,s){1&r&&(e.TgZ(0,"div",18)(1,"h1"),e._uU(2,"opps"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"looks like no product matches your description"),e.qZA()())}function be(r,s){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.progressLoader,e.LSH)}}function ye(r,s){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,xe,5,0,"div",17),e.YNc(2,be,2,1,"div",17),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.searching),e.xp6(1),e.Q6J("ngIf",t.searching)}}let Pe=(()=>{class r{constructor(t,i,n,o){this.userService=t,this.productService=i,this.activeRoute=n,this.router=o,this.productsToShow=[],this.seller=[],this.progressLoader="../../../assets/icons/loader.gif",this.searching=!0}ngOnInit(){this.activeRoute.params.subscribe(t=>{const{query:i}=t;this.productService.getProductBySearch({search:i}).subscribe(n=>{this.searching=!1,this.productsToShow=[],this.seller=[],n.forEach(o=>{this.productsToShow.push(o)}),this.userService.searchForUser({search:i}).subscribe(o=>{o.forEach(a=>this.seller.push(a)),console.log(o)})})})}viewProduct(t,i){var n=this;return(0,g.Z)(function*(){n.productService.addToRecentlyViewedProduct(t);const o=i.split(" ").join("-");n.router.navigate([`product/${o}/pd/${t}`])})()}viewSellerProfile(t){this.router.navigate([`./profile/${t}`])}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(f.K),e.Y36(m.M),e.Y36(p.gz),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-search"]],decls:3,vars:3,consts:[["id","productItemsDisplay",4,"ngIf"],[4,"ngIf"],["id","productItemsDisplay"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[3,"src"],[1,"ItemDescription"],[1,"productname"],["id","productItemCatergoryBar"],["id","productItemsDisplay2"],[4,"ngFor","ngForOf"],[1,"item1",3,"click"],["alt","Product Image",1,"product-image",3,"src"],[1,"productname",3,"title"],[1,"productdescription"],[1,"productprice"],[1,"purchase-btn",3,"id"],["class","holderImages",4,"ngIf"],[1,"holderImages"],["alt","",3,"src"]],template:function(i,n){1&i&&(e.YNc(0,fe,2,1,"div",0),e.YNc(1,ve,7,1,"div",1),e.YNc(2,ye,3,2,"div",1)),2&i&&(e.Q6J("ngIf",0!=n.seller.length),e.xp6(1),e.Q6J("ngIf",0!=n.productsToShow.length),e.xp6(1),e.Q6J("ngIf",0==n.productsToShow.length))},dependencies:[u.sg,u.O5],styles:["#productItemsDisplay2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,350px));gap:10px;margin:5px}.purchase-btn[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center}.holderImages[_ngcontent-%COMP%]{width:100%;text-align:center;max-height:400px;margin:20% auto}.holderImages[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--accent-color);text-transform:uppercase;width:100%}.holderImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:60%}.item1[_ngcontent-%COMP%]{padding:var(--border-10);background-color:var(--secondaryColor);border-radius:var(--border-10);margin:0 5px}.item[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:95%}#productItemsDisplay[_ngcontent-%COMP%]{max-height:500px;display:flex;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:10px}#productItemsDisplay[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .productname[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;justify-content:center}#productItemsDisplay[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:10%;background-color:#00f}"]})}return r})();var Oe=d(1675);let Ze=(()=>{class r{constructor(t,i){this.productService=t,this.router=i}viewProduct(t,i){var n=this;return(0,g.Z)(function*(){n.productService.addToRecentlyViewedProduct(t);const o=i.split(" ").join("-");n.router.navigate([`product/${o}/pd/${t}`])})()}static#e=this.\u0275fac=function(i){return new(i||r)(e.LFG(m.M),e.LFG(p.F0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Me(r,s){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.viewProductDetails(o._id,o.name))}),e._UZ(2,"img",6),e.TgZ(3,"div",7)(4,"h1",8),e._uU(5),e.qZA(),e.TgZ(6,"p",9),e._uU(7),e.qZA(),e.TgZ(8,"div",10)(9,"div")(10,"span"),e._uU(11),e._UZ(12,"br"),e.qZA()()()()(),e.BQk()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.MGl("title","$",t.name,""),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(4),e.hij("Price: R ",t.price,"")}}const Ie=[{path:"",component:k},{path:"product/:productname/pd/:productid",component:de},{path:"cart",component:_e,canActivate:[Oe.M]},{path:"sign-in",component:U},{path:"sign-up",component:X},{path:"search/:query",component:Pe},{path:"profile/:seller",component:(()=>{class r{constructor(t,i,n,o){this.productService=t,this.activeRoute=i,this.userService=n,this.viewProductServ=o,this.products=[],this.userId=""}ngOnInit(){this.activeRoute.params.subscribe(t=>{this.userId=t.seller,this.productService.getAllSellerProducts(this.userId).subscribe(i=>{this.products=i}),this.userService.getUserById(this.userId).subscribe(i=>{this.user=i})})}viewProductDetails(t,i){this.viewProductServ.viewProduct(t,i)}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(m.M),e.Y36(p.gz),e.Y36(f.K),e.Y36(Ze))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-profile"]],decls:7,vars:4,consts:[["id","container"],["id","sellerHolder"],["alt","profile picture",3,"src"],["id","productItemsDisplay"],[4,"ngFor","ngForOf"],[1,"item1",3,"click"],["alt","Product Image",1,"product-image",3,"src"],[1,"ItemDescription"],[1,"productname",3,"title"],[1,"productdescription"],[1,"productprice"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"h1"),e._uU(4),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,Me,13,5,"ng-container",4),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("src",null==n.user?null:n.user.profileImage,e.LSH),e.xp6(2),e.AsE("",null==n.user?null:n.user.name," ",null==n.user?null:n.user.surname,""),e.xp6(2),e.Q6J("ngForOf",n.products))},dependencies:[u.sg],styles:["#sellerHolder[_ngcontent-%COMP%]{text-align:center}#sellerHolder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:0px}#productItemsDisplay[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:10px;margin:5px}.addItem[_ngcontent-%COMP%]{border-radius:var(--border-10);min-height:250px;background-color:var(--accent-color);display:flex;align-items:center;justify-content:center}.addItem[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px}.purchase-btn[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center}.purchase-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:2.5px;max-width:25px}.item1[_ngcontent-%COMP%]{padding:var(--border-10);background-color:var(--secondaryColor);border-radius:var(--border-10);margin:0 5px}.item[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:95%}@media (min-width: 810px){#container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr}}"]})}return r})()},{path:"cart/final-order/:id",component:(()=>{class r{constructor(t,i,n){this.inventoryService=t,this.authService=i,this.activeRouter=n,this.cartTotalPrice=0,this.inventory={_id:"",items:[],seller:"",status:"",total:0,user:"",chat:[]}}ngOnInit(){var t=this;this.authService.loggedInUser.subscribe(function(){var i=(0,g.Z)(function*(n){null!=n&&t.activeRouter.params.subscribe(o=>{t.inventoryService.getOrderById(o.id).subscribe(function(){var a=(0,g.Z)(function*(l){t.inventory=l});return function(l){return a.apply(this,arguments)}}())})});return function(n){return i.apply(this,arguments)}}())}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(P.V),e.Y36(_.e),e.Y36(p.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-cart-finalize-order"]],decls:2,vars:0,template:function(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"cart-finalize-order works!"),e.qZA())}})}return r})()}];let Se=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(Ie),p.Bz]})}return r})(),qe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[u.ez,Se,c.UX,c.u5]})}return r})()}}]);