"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[727],{3727:(qt,v,d)=>{d.r(v),d.d(v,{ShoppingCatalogueModule:()=>kt});var u=d(6814),p=d(8589),g=d(5861),t=d(4946),m=d(5993),M=d(450),_=d(1064);function Z(r,s){1&r&&(t.TgZ(0,"div",3)(1,"div")(2,"h3"),t._uU(3,"Recently Viewed"),t.qZA()(),t.TgZ(4,"div")(5,"button",4),t._uU(6,"MORE"),t.qZA()()())}function T(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"p",16),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.KtG(o.action)}),t._uU(1),t.qZA()}if(2&r){const e=s.$implicit;t.Q6J("routerLink",e.path),t.xp6(1),t.hij("",e.name," ")}}function w(r,s){if(1&r&&(t.TgZ(0,"div",14),t.YNc(1,T,2,2,"p",15),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.extraMenuTabs)}}function I(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("mouseup",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.removeMouseDown(o._id,o.name))})("touchend",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.removeMouseDown(o._id,o.name))})("touchstart",function(n){const a=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.showMoreOptions(a,n))})("mousedown",function(){const o=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.showMoreOptions(o))}),t._UZ(1,"img",8),t.TgZ(2,"div",9)(3,"h1",10),t._uU(4),t.qZA(),t.TgZ(5,"p",11),t._uU(6),t.qZA(),t.TgZ(7,"div",12)(8,"div")(9,"span"),t._uU(10),t._UZ(11,"br"),t._uU(12,"Rating"),t.qZA()()()(),t.YNc(13,w,2,1,"div",13),t.qZA()}if(2&r){const e=s.$implicit,i=s.index,n=t.oxw(2);t.xp6(1),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.MGl("title","$",e.name,""),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(4),t.hij("R ",e.price,""),t.xp6(3),t.Q6J("ngIf",n.menuStatus&&i==n.numberClickedOn)}}function S(r,s){if(1&r&&(t.TgZ(0,"div",5),t.YNc(1,I,14,6,"div",6),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.recentVisited)}}function k(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,o=t.oxw(2);return t.KtG(o.viewProduct(n._id,n.name))}),t._UZ(1,"img",8),t.TgZ(2,"div",9)(3,"h1",10),t._uU(4),t.qZA(),t.TgZ(5,"p",11),t._uU(6),t.qZA(),t.TgZ(7,"div",12)(8,"div")(9,"span"),t._uU(10),t._UZ(11,"br"),t._uU(12,"Rating"),t.qZA()()()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.MGl("title","$",e.name,""),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(4),t.hij("R ",e.price,"")}}function A(r,s){if(1&r&&(t.ynx(0),t.YNc(1,k,13,5,"div",18),t.BQk()),2&r){const e=s.$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.categories.includes(i._id))}}function q(r,s){if(1&r&&(t.TgZ(0,"div")(1,"div",3)(2,"div")(3,"h3"),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"button",4),t._uU(7,"MORE"),t.qZA()()(),t.TgZ(8,"div",17),t.YNc(9,A,2,1,"ng-container",2),t.qZA()()),2&r){const e=s.$implicit,i=t.oxw();t.xp6(4),t.Oqu(e.name),t.xp6(5),t.Q6J("ngForOf",i.productsToShow)}}let U=(()=>{class r{constructor(e,i,n,o){this.productService=e,this.categoryService=i,this.router=n,this.toaster=o,this.products=[],this.recentVisited=[],this.activeCategory=[],this.productsToShow=[],this.menuStatus=!1,this.numberClickedOn=0,this.sellerId="",this.extraMenuTabs=[{name:"View Seller",path:"",icon:"",action:null}]}ngOnInit(){let e=String(this.productService.recentlyViewed),i=JSON.parse(e);0!=i.length&&i.forEach(n=>{this.productService.getProductById(n).subscribe(o=>{this.recentVisited.push(o)})}),this.categoryService.getActiveCategory().subscribe(n=>{n.forEach(a=>{this.activeCategory.push(a)}),this.activeCategory.forEach(a=>{this.categoryService.getByCategory(a._id,{page:0}).subscribe(l=>{l.forEach(f=>{void 0===this.productsToShow.find(At=>At._id==f._id)&&this.productsToShow.unshift(f)})})})})}viewProduct(e,i){var n=this;return(0,g.Z)(function*(){n.productService.addToRecentlyViewedProduct(e);const o=i.split(" ").join("-");n.router.navigate([`product/${o}/pd/${e}`])})()}showMoreOptions(e,i=-1){-1!=i&&i.preventDefault(),this.containerForDelayEvent=setTimeout(()=>{this.menuStatus=!0;let n=this.extraMenuTabs.findIndex(o=>"View Seller"==o.name);-1!=n&&(this.extraMenuTabs[n].path=`profile/${this.recentVisited[e].seller._id}`),this.numberClickedOn=e},2e3)}removeMouseDown(e,i){clearTimeout(this.containerForDelayEvent),this.menuStatus||this.viewProduct(e,i),setTimeout(()=>{this.menuStatus=!1},5e3)}addToCart(){this.toaster.success({detail:"SUCCESS",summary:"Product added to cart"})}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(m.M),t.Y36(M.H),t.Y36(p.F0),t.Y36(_.s))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:3,consts:[["id","productItemCatergoryBar",4,"ngIf"],["id","recentsVisits",4,"ngIf"],[4,"ngFor","ngForOf"],["id","productItemCatergoryBar"],[1,"seeMore"],["id","recentsVisits"],["class","item",3,"mouseup","touchend","touchstart","mousedown",4,"ngFor","ngForOf"],[1,"item",3,"mouseup","touchend","touchstart","mousedown"],["alt","Product Image",1,"product-image",3,"src"],[1,"ItemDescription"],[1,"productname",3,"title"],[1,"productdescription"],[1,"productprice"],["class","extraMenuStyle",4,"ngIf"],[1,"extraMenuStyle"],[3,"routerLink","click",4,"ngFor","ngForOf"],[3,"routerLink","click"],["id","productItemsDisplay"],["class","item",3,"click",4,"ngIf"],[1,"item",3,"click"]],template:function(i,n){1&i&&(t.YNc(0,Z,7,0,"div",0),t.YNc(1,S,2,1,"div",1),t.YNc(2,q,10,2,"div",2)),2&i&&(t.Q6J("ngIf",0!=n.recentVisited.length),t.xp6(1),t.Q6J("ngIf",0!=n.recentVisited.length),t.xp6(1),t.Q6J("ngForOf",n.activeCategory))},dependencies:[u.sg,u.O5,p.rH],styles:["#productItemsDisplay[_ngcontent-%COMP%], #recentsVisits[_ngcontent-%COMP%]{max-height:500px;display:flex;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:10px}#productItemsDisplay[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}#productItemCatergoryBar[_ngcontent-%COMP%]{display:grid;grid-template-columns:5fr 1fr;margin-bottom:10px;text-transform:uppercase}#productItemCatergoryBar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:var(--box-margin)}#productItemCatergoryBar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;color:var(--accent-color);border:2px solid black;width:100%;height:100%;border-radius:var(--border-10);transition:background-color 1.5s,color 1.5s,ease-in-out}#productItemCatergoryBar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;font-weight:500}.item[_ngcontent-%COMP%]{position:relative}.extraMenuStyle[_ngcontent-%COMP%]{position:absolute;background-color:#435d5080;top:50%;left:20%;border-radius:var(--border-10)}.extraMenuStyle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:var(--border-10);margin:var(--border-10);border-radius:var(--border-10)}"]})}return r})();var c=d(95),h=d(1836);let F=(()=>{class r{constructor(e){this.authService=e,this.loginForm=new c.cw({email:new c.NI(""),hashedPassword:new c.NI("")}),this.buttonText="SIGN-IN",this.progressLoader="../../../assets/icons/loader.gif",this.logoOfCompany="../../../assets/icons/logo.svg"}ngOnInit(){}signInUser(){this.loginForm.value&&this.authService.logIn(this.loginForm.value)}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(h.e))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"master"],[1,"content-container"],["action","",3,"formGroup","ngSubmit"],["alt","logo",1,"logo",3,"src"],[2,"color","rgba(0,0,0,0.5)","margin","2px","text-align","center"],["for","email"],[2,"margin","2px"],["type","text","formControlName","email","placeholder","Email"],["for","password"],["type","password","formControlName","hashedPassword","placeholder","Password"],["routerLink","/sign-up"],[1,"action2"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.signInUser()}),t.TgZ(3,"p"),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"h1"),t._uU(6," WELCOME "),t.qZA(),t.TgZ(7,"p",4),t._uU(8,"sign in for a better experience"),t.qZA(),t.TgZ(9,"div")(10,"label",5)(11,"h3",6),t._uU(12,"EMAIL: "),t.qZA()(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"div")(15,"label",8)(16,"h3",6),t._uU(17,"PASSWORD: "),t.qZA()(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"p"),t._uU(20,"Don't have an acount? "),t.TgZ(21,"a",10),t._uU(22,"sign-up"),t.qZA()(),t.TgZ(23,"div")(24,"button",11),t._uU(25),t.qZA()()()()()),2&i&&(t.xp6(2),t.Q6J("formGroup",n.loginForm),t.xp6(2),t.Q6J("src",n.logoOfCompany,t.LSH),t.xp6(21),t.Oqu(n.buttonText))},dependencies:[p.rH,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".master[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;left:0;top:0;background-image:url(african_market_street_image.10882663b9279e7d.jpeg);background-repeat:no-repeat;background-size:cover}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;width:100%;max-height:100px}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:var(--border-10);padding:var(--border-10);flex-direction:column}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 1fr;width:100%;margin:5px 0}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:5px 0;width:100%;min-height:20%}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .action2[_ngcontent-%COMP%]{padding:10px}.master[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .action2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px}"]})}return r})();class N{static match(){return s=>{const e=s.get("password"),i=s.get("confirmPassword");return e&&i?e.value!==i.value?(i.setErrors({mismatch:!0}),{mismatch:!0}):(i.setErrors(null),null):null}}}var C=d(3076),J=d(756);function Y(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Name is a required field"),t.qZA())}function E(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Surname is a required field"),t.qZA())}function R(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Email is a required field"),t.qZA())}function Q(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Enter a valid email"),t.qZA())}function D(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Phone number is a required field"),t.qZA())}function H(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Contact number should be 10 numerical characters"),t.qZA())}function L(r,s){if(1&r&&(t.TgZ(0,"option",34),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("value",e._id),t.xp6(1),t.Oqu(e.role)}}function j(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Role is a required field"),t.qZA())}function $(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Password field is required"),t.qZA())}function V(r,s){1&r&&(t.TgZ(0,"p"),t._uU(1," - Must be at least 8 characters long."),t.qZA())}function B(r,s){1&r&&(t.TgZ(0,"div",33)(1,"p"),t._uU(2," - Must include at least one lowercase."),t.qZA(),t.TgZ(3,"p"),t._uU(4," - Must include at least one uppercase."),t.qZA(),t.TgZ(5,"p"),t._uU(6," - Must include at least one digit."),t.qZA(),t.TgZ(7,"p"),t._uU(8," - Must include at least one special character"),t.qZA(),t.TgZ(9,"p"),t._uU(10," - List of special characters "),t.TgZ(11,"span"),t._uU(12,"! @ # $ % = ^ & ? "),t.qZA()()())}function G(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Confirm password is a required field"),t.qZA())}function K(r,s){1&r&&(t.TgZ(0,"p",33),t._uU(1,"Passwords don't match"),t.qZA())}function z(r,s){if(1&r&&t._UZ(0,"img",35),2&r){const e=t.oxw();t.Q6J("src",e.progressLoader,t.LSH)}}let X=(()=>{class r{constructor(e,i,n,o){this.userService=e,this.roleService=i,this.toaster=n,this.router=o,this.formSubmitted=!1,this.hidePassword=!0,this.hideConfirmPassword=!0,this.defaultProfilePicture="https://firebasestorage.googleapis.com/v0/b/ecommerce-connect-c7850.appspot.com/o/profile-pictures%2F66afc3eb06c2285b78ae1f84?alt=media&token=868d22bd-fce2-49f8-8c4b-af5be6cabfb9",this.progressLoader="../../../assets/icons/loader.gif",this.rolesSelector=[]}ngOnInit(){this.signupForm=new c.cw({role:new c.NI("",c.kI.required),email:new c.NI("",[c.kI.required,c.kI.email]),name:new c.NI("",c.kI.required),surname:new c.NI("",c.kI.required),number:new c.NI("",[c.kI.required,c.kI.pattern(/^-?(0|[0-9]\d*)?$/),c.kI.maxLength(10),c.kI.minLength(10)]),password:new c.NI("",[c.kI.required,c.kI.minLength(8),c.kI.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$=%^&?*])[a-zA-Z\d!@#$=%^&?*]+$/)]),confirmPassword:new c.NI("",c.kI.required)},{validators:N.match()})}ngAfterViewInit(){var e=this;return(0,g.Z)(function*(){setTimeout((0,g.Z)(function*(){yield e.roleService.role.forEach(i=>{"admin"!=i.role&&e.rolesSelector.push(i)})}),2500)})()}togglePassword(e){e.preventDefault(),this.hidePassword=!this.hidePassword}toggleConfirmPassword(e){e.preventDefault(),this.hideConfirmPassword=!this.hideConfirmPassword}onSubmit(){this.formSubmitted=!0;const e={hashedPassword:this.signupForm.value.password,name:this.signupForm.value.name,surname:this.signupForm.value.surname,email:this.signupForm.value.email,number:this.signupForm.value.number,role:this.signupForm.value.role,profileImage:this.defaultProfilePicture};this.signupForm.valid?(this.formSubmitted=!0,this.userService.createUser(e).subscribe({next:i=>{this.formSubmitted=!1,this.toaster.success({detail:"SUCCESS",summary:"Account succesfully created"}),this.router.navigate(["/sign-in"])},error:i=>{this.formSubmitted=!1,this.toaster.error({detail:"Error",summary:i.error.message})}})):(this.formSubmitted=!1,this.toaster.error({detail:"Error",summary:"Failed to create account, please ensure fields are filled",duration:5e3}))}get email(){return this.signupForm.get("email")}get role(){return this.signupForm.get("role")}get name(){return this.signupForm.get("name")}get surname(){return this.signupForm.get("surname")}get number(){return this.signupForm.get("number")}get password(){return this.signupForm.get("password")}get confirmPassword(){return this.signupForm.get("confirmPassword")}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(C.K),t.Y36(J.N),t.Y36(_.s),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register"]],decls:68,vars:16,consts:[[1,"isolate","bg-white","px-6","py-24","sm:py-32","lg:px-8"],["aria-hidden","true",1,"absolute","inset-x-0","top-[-10rem]","-z-10","transform-gpu","overflow-hidden","blur-3xl","sm:top-[-20rem]"],[1,"relative","left-1/2","-z-10","aspect-[1155/678]","w-[36.125rem]","max-w-none","-translate-x-1/2","rotate-[30deg]","bg-gradient-to-tr","from-[#ff80b5]","to-[#9089fc]","opacity-30","sm:left-[calc(50%-40rem)]","sm:w-[72.1875rem]",2,"clip-path","polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"],[1,"mx-auto","max-w-2xl","text-center"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mt-2","text-lg","leading-8","text-gray-600"],[1,"mx-auto","max-w-xl",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","gap-x-8","gap-y-6","sm:grid-cols-2"],["for","first-name",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],[1,"mt-2.5"],["type","text","name","first-name","id","first-name","formControlName","name","autocomplete","given-name",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["class","text-red-500",4,"ngIf"],["for","last-name",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],["type","text","name","last-name","id","last-name","formControlName","surname","autocomplete","family-name",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],[1,"sm:col-span-2"],["for","email",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],["type","email","name","email","id","email","formControlName","email","autocomplete","email",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["for","phone-number",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],[1,"relative","mt-2.5"],["type","tel","name","phone-number","id","phone-number","formControlName","number","autocomplete","tel",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],["for","role",1,"block","text-sm","font-semibold","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","role","id","country","name","role","autocomplete","country-name",1,"block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:max-w-xs","sm:text-sm","sm:leading-6"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","password","name","last-name","id","last-name","autocomplete","family-name","formControlName","password",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],[4,"ngIf"],["type","password","name","last-name","id","last-name","autocomplete","family-name","formControlName","confirmPassword",1,"block","w-full","rounded-md","border-0","px-3.5","py-2","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-green-600","sm:text-sm","sm:leading-6"],[1,"mt-10"],["type","submit",1,"block","w-full","rounded-md","px-3.5","py-2.5","text-center","text-white","text-sm","bg-green-800","font-semibold","shadow-sm","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-green-600",3,"disabled","click"],["class","max-w-3 loader","class","loader",3,"src",4,"ngIf"],[1,"mt-10","text-center","text-sm","text-gray-500"],["href","#","routerLink","/sign-in",1,"font-semibold","leading-6","text-green-900","hover:text-green-500"],[1,"text-red-500"],[3,"value"],[1,"loader",3,"src"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA(),t.TgZ(3,"div",3)(4,"h2",4),t._uU(5,"Sign up"),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"Let's get you signed-up"),t.qZA()(),t.TgZ(8,"form",6),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"div",7)(10,"div")(11,"label",8),t._uU(12,"First name"),t.qZA(),t.TgZ(13,"div",9),t._UZ(14,"input",10),t.qZA(),t.YNc(15,Y,2,0,"p",11),t.qZA(),t.TgZ(16,"div")(17,"label",12),t._uU(18,"Last name"),t.qZA(),t.TgZ(19,"div",9),t._UZ(20,"input",13),t.qZA(),t.YNc(21,E,2,0,"p",11),t.qZA(),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Email"),t.qZA(),t.TgZ(25,"div",9),t._UZ(26,"input",16),t.qZA(),t.YNc(27,R,2,0,"p",11),t.YNc(28,Q,2,0,"p",11),t.qZA(),t.TgZ(29,"div",14)(30,"label",17),t._uU(31,"Phone number"),t.qZA(),t.TgZ(32,"div",18),t._UZ(33,"input",19),t.qZA(),t.YNc(34,D,2,0,"p",11),t.YNc(35,H,2,0,"p",11),t.qZA(),t.TgZ(36,"div",14)(37,"label",20),t._uU(38,"Role"),t.qZA(),t.TgZ(39,"div",21)(40,"select",22)(41,"option",23),t._uU(42,"Choose a role"),t.qZA(),t.YNc(43,L,2,2,"option",24),t.qZA()(),t.YNc(44,j,2,0,"p",11),t.qZA(),t.TgZ(45,"div")(46,"label",12),t._uU(47,"Password"),t.qZA(),t.TgZ(48,"div",9),t._UZ(49,"input",25),t.qZA(),t.YNc(50,$,2,0,"p",11),t.YNc(51,V,2,0,"p",26),t.YNc(52,B,13,0,"div",11),t.qZA(),t.TgZ(53,"div")(54,"label",12),t._uU(55,"Confirm password"),t.qZA(),t.TgZ(56,"div",9),t._UZ(57,"input",27),t.qZA(),t.YNc(58,G,2,0,"p",11),t.YNc(59,K,2,0,"p",11),t.qZA()(),t.TgZ(60,"div",28)(61,"button",29),t.NdJ("click",function(){return n.onSubmit()}),t._uU(62," Register "),t.YNc(63,z,1,1,"img",30),t.qZA(),t.TgZ(64,"p",31),t._uU(65," Already have an acount? "),t.TgZ(66,"a",32),t._uU(67,"Sign-in"),t.qZA()()()()()),2&i&&(t.xp6(8),t.Q6J("formGroup",n.signupForm),t.xp6(7),t.Q6J("ngIf",n.name.touched&&(null==n.name.errors?null:n.name.errors.required)),t.xp6(6),t.Q6J("ngIf",n.surname.touched&&(null==n.surname.errors?null:n.surname.errors.required)),t.xp6(6),t.Q6J("ngIf",n.email.touched&&(null==n.email.errors?null:n.email.errors.required)),t.xp6(1),t.Q6J("ngIf",n.email.touched&&(null==n.email.errors?null:n.email.errors.email)),t.xp6(6),t.Q6J("ngIf",n.number.touched&&(null==n.number.errors?null:n.number.errors.required)),t.xp6(1),t.Q6J("ngIf",!n.signupForm.get("number").hasError("required")&&!n.signupForm.get("number").hasError("pattern")&&(n.signupForm.get("number").hasError("maxlength")||n.signupForm.get("number").hasError("minlength"))),t.xp6(8),t.Q6J("ngForOf",n.rolesSelector),t.xp6(1),t.Q6J("ngIf",n.role.touched&&(null==n.role.errors?null:n.role.errors.required)),t.xp6(6),t.Q6J("ngIf",n.password.touched&&(null==n.password.errors?null:n.password.errors.required)),t.xp6(1),t.Q6J("ngIf",null==n.password.errors?null:n.password.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==n.password.errors?null:n.password.errors.pattern),t.xp6(6),t.Q6J("ngIf",null==n.confirmPassword.errors?null:n.confirmPassword.errors.required),t.xp6(1),t.Q6J("ngIf",null==n.confirmPassword.errors?null:n.confirmPassword.errors.mismatch),t.xp6(2),t.Q6J("disabled",n.formSubmitted),t.xp6(2),t.Q6J("ngIf",n.formSubmitted))},dependencies:[u.sg,u.O5,p.rH,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.sg,c.u],styles:[".page-content[_ngcontent-%COMP%]{display:grid;place-content:center;color:#444;margin:1.725rem}.page-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:60px}.page-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.page-content[_ngcontent-%COMP%]   .signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1000px;border-radius:12px;box-shadow:#0000000d 0 0 0 1px,#0000001a 0 2px 3px;text-align:center;gap:1.875rem;padding:10px;place-items:center}.page-content[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]{display:flex;gap:1.25rem;margin-block:.94rem}.page-content[_ngcontent-%COMP%]   .social-login[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:grid;place-items:center;border:none;box-shadow:#0000000d 0 0 0 1px,#ff81171a 0 2px 3px;border-radius:50%;width:1.75rem;height:1.75rem;padding:.94rem}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.25rem;font-size:1.25rem;justify-content:center}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5em;border-radius:5px;border:1px solid;border-color:#444}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(select), .page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(select){outline:none;height:2.5rem}.page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:active, .page-content[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active{border:1px solid #ee7817}.page-content[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%}.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{padding:1em 3em;border:1px solid #272727;border-radius:25px;background-color:transparent;font-size:1rem;font-weight:700;text-transform:uppercase;width:0 auto;box-shadow:#0000000d 0 0 0 1px,#0000001a 0 2px 3px;transition:background-color .2s ease-out}.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:active{box-shadow:none;background-color:#f5f1ef;outline:none}.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#f5f1ef;outline:none;transform:scale(1.1)}@media (max-width: 480px){.page-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{font-size:.875rem}}.page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;justify-items:start;gap:8px}.page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e71f1f;text-align:left;font-size:.625rem}.page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   .error-display[_ngcontent-%COMP%]   .role-label[_ngcontent-%COMP%]{justify-self:center}.loader[_ngcontent-%COMP%]{mix-blend-mode:screen}@media only screen and (max-width: 480px){.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px}.user-input-section[_ngcontent-%COMP%]{padding:20px}.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16rem}}@media only screen and (min-width: 481px) and (max-width: 768px){.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20rem}}@media only screen and (min-width: 769px) and (max-width: 1024px){.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20rem}.social-login[_ngcontent-%COMP%]{gap:1.5rem;margin-block:.95rem}.social-login[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:1.95rem;height:1.95rem;padding:.95rem}.social-login[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}}@media only screen and (min-width: 1025px){.user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .user-input-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:20rem}}"]})}return r})();class W{constructor(s,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=s,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const s=this._textarea;let e=!1;try{if(s){const i=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const s=this._textarea;s&&(s.remove(),this._textarea=void 0)}}let tt=(()=>{class r{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),n=i.copy();return i.destroy(),n}beginCopy(e){return new W(e,this._document)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(u.K0))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var et=d(2758),x=d(9947),nt=d(9862);let b=(()=>{class r{constructor(e){this.http=e}ngOnInit(){}getCartByUserId(e){return this.http.get(`${x.N.renderApiLink}/api/cart/${e}`)}updateUserCart(e,i){return this.http.put(`${x.N.renderApiLink}/api/cart/${e}`,i)}static#t=this.\u0275fac=function(i){return new(i||r)(t.LFG(nt.eN))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),rt=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recommandations"]],decls:2,vars:0,template:function(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1,"recommandations works!"),t.qZA())}})}return r})();function it(r,s){if(1&r&&(t.TgZ(0,"option",15),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function ot(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",5)(1,"select",13),t.NdJ("change",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.updateNumber(n))}),t.YNc(2,it,2,2,"option",14),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.productOptions)}}function st(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addItemToCart())}),t._uU(1,"ADD TO CART"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled",e.buttonDisabled)}}function ct(r,s){1&r&&(t.TgZ(0,"button",17),t._uU(1,"loading"),t.qZA())}function at(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.removeItemFromCart(n.productDetails._id))}),t._uU(1,"REMOVE FROM CART"),t.qZA()}}const y=function(r){return{dontShow:r}};let dt=(()=>{class r{constructor(e,i,n,o,a,l,f,O){this.activeRouter=e,this.router=i,this.productService=n,this.clipboard=o,this.app=a,this.authService=l,this.toaster=f,this.cartService=O,this.purchasing="addToCart",this.productSellerId="",this.buttonDisabled=!0,this.productDetails={name:"",_id:"",price:0,image:"",description:"",stock:0,seller:{name:"",surname:"",email:"",number:0,hashedPassword:"",profileImage:"",role:{id:"",name:""}},categories:[]},this.productOptions=[1,2,3,4,5,6],this.cartId="",this.user="",this.userId="",this.selectedOption=1,this.shoppingCart={_id:"",userId:"",items:[{productId:{_id:"",name:"",price:0,image:"",description:"",seller:""},quantity:0,price:0}]},this.inCartSellerName=""}ngOnInit(){var e=this;this.authService.loggedInUser.subscribe(function(){var i=(0,g.Z)(function*(n){null!=n&&(e.user=yield n.name,e.userId=yield n.userId,e.shoppingCart.userId=e.userId,e.cartId=n.cartId,e.cartService.getCartByUserId(e.userId).subscribe(function(){var o=(0,g.Z)(function*(a){e.shoppingCart=yield a});return function(a){return o.apply(this,arguments)}}())),e.activeRouter.params.subscribe(o=>{e.productService.getProductById(o.productid).subscribe(a=>{e.sellersid=a.seller._id,e.productSellerId=a.seller._id,e.productDetails=a,e.productDetails.seller.email="",e.productDetails.seller.surname="",e.productDetails.seller.number=0,e.shoppingCart.items.forEach(l=>{l.productId._id==o.productid&&(e.purchasing="removeFromCart")}),e.buttonDisabled=!1})})});return function(n){return i.apply(this,arguments)}}())}copyToClipBoard(){this.clipboard.copy("https://ecommerceconnect.co.za/#"+this.router.url),this.toaster.success({detail:"SUCCESS",summary:"link copied to clipboard",duration:2e3})}addItemToCart(){var e=this;return(0,g.Z)(function*(){if(""===e.userId)return void e.router.navigate(["/sign-in"]);e.purchasing="loading";const i=yield{productId:{_id:e.productDetails._id,name:e.productDetails.name,price:e.productDetails.price,image:e.productDetails.image,description:e.productDetails.description,seller:e.productSellerId},quantity:e.selectedOption,price:e.productDetails.price*e.selectedOption};let n=!1;yield e.shoppingCart.items.forEach(o=>{i.productId._id==o.productId._id&&(e.toaster.error({detail:"ERROR",summary:"Product already exist in cart",duration:3e3}),e.purchasing="removeFromCart",n=!0)}),0==n&&(yield e.shoppingCart.items.push(i),e.cartService.updateUserCart(e.userId,e.shoppingCart).subscribe(o=>{"SUCCESS"==o.status?(e.toaster.success({detail:o.status,summary:o.message}),e.purchasing="removeFromCart"):(e.toaster.error({detail:o.status,summary:o.message}),e.purchasing="addToCart")}))})()}updateNumber(e){this.selectedOption=e.target.value}viewSellerProfile(e){this.router.navigate([`./profile/${e}`])}removeItemFromCart(e){this.shoppingCart.items=this.shoppingCart.items.filter(i=>i.productId._id!==e),this.cartService.updateUserCart(this.userId,this.shoppingCart).subscribe(i=>{"SUCCESS"==i.status?(this.toaster.success({detail:i.status,summary:i.message}),this.purchasing="addToCart"):(this.toaster.error({detail:i.status,summary:i.message}),this.purchasing="removeFromCart")})}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(m.M),t.Y36(tt),t.Y36(et.y),t.Y36(h.e),t.Y36(_.s),t.Y36(b))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-view-product"]],decls:30,vars:16,consts:[["id","main"],[1,"main-image",3,"ngClass"],["alt","",3,"src"],[1,"mobile"],[1,"splitByTwo"],[1,"second"],[1,"cursor-pointer","hover:text-cyan-600","hover:underline",3,"click"],["class","second",4,"ngIf"],[1,"productdescription2"],["id","purchase-btn",3,"disabled","click",4,"ngIf"],["id","purchase-btn",4,"ngIf"],["id","purchase-btn",3,"click",4,"ngIf"],["id","purchase-btn",2,"background-color","transparent","border","2px solid black","color","black",3,"click"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","purchase-btn",3,"disabled","click"],["id","purchase-btn"],["id","purchase-btn",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",1),t._UZ(5,"img",2),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"p",6),t.NdJ("click",function(){return n.viewSellerProfile(n.productSellerId)}),t._uU(9,"Seller: "),t.TgZ(10,"span"),t._uU(11),t.qZA()()(),t.YNc(12,ot,3,1,"div",7),t.qZA(),t.TgZ(13,"div",4)(14,"div")(15,"h3"),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"h3"),t._uU(19),t.qZA()()(),t.TgZ(20,"p",8),t._uU(21),t.qZA(),t.TgZ(22,"div"),t.YNc(23,st,2,1,"button",9),t.YNc(24,ct,2,0,"button",10),t.YNc(25,at,2,0,"button",11),t.qZA(),t.TgZ(26,"div")(27,"button",12),t.NdJ("click",function(){return n.copyToClipBoard()}),t._uU(28,"share item"),t.qZA()(),t._UZ(29,"app-recommandations"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("ngClass",t.VKq(12,y,n.app.deviceWidth<810)),t.xp6(1),t.Q6J("src",n.productDetails.image,t.LSH),t.xp6(2),t.Q6J("ngClass",t.VKq(14,y,n.app.deviceWidth>809)),t.xp6(1),t.Q6J("src",n.productDetails.image,t.LSH),t.xp6(6),t.Oqu(n.productDetails.seller.name),t.xp6(1),t.Q6J("ngIf",null!=n.productOptions.length),t.xp6(4),t.Oqu(n.productDetails.name),t.xp6(3),t.hij("R ",n.productDetails.price,""),t.xp6(2),t.Oqu(n.productDetails.description),t.xp6(2),t.Q6J("ngIf","addToCart"==n.purchasing),t.xp6(1),t.Q6J("ngIf","loading"==n.purchasing),t.xp6(1),t.Q6J("ngIf","removeFromCart"==n.purchasing))},dependencies:[u.mk,u.sg,u.O5,c.YN,c.Kr,rt],styles:[".mobile[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:300px;object-fit:cover;border-radius:var(--border-10)}.mobile[_ngcontent-%COMP%]   .splitByTwo[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{width:100%}.mobile[_ngcontent-%COMP%]   .splitByTwo[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2.5px}.mobile[_ngcontent-%COMP%]   .splitByTwo[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;color:#fff;background-color:#000;border-radius:var(--border-10);padding:var(--border-10);border:0}.productdescription2[_ngcontent-%COMP%]{color:#00000080;margin:2px 0}#purchase-btn[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff;background-color:#000;border-radius:var(--border-10);padding:var(--border-10);margin:var(--box-margin);border:0;text-transform:uppercase}.alert[_ngcontent-%COMP%]{background-color:#000}@media (min-width: 809px){#main[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr;gap:10px}.main-image[_ngcontent-%COMP%]{max-width:350px;background-color:#f5f5c0;padding:var(--border-10);margin-top:10px;border-radius:var(--border-10)}.main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}.mobile[_ngcontent-%COMP%]{margin-top:10px;background-color:#f5f5c0;padding:var(--border-10);border-radius:var(--border-10)}}"]})}return r})();var P=d(5862);function ut(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div")(3,"div")(4,"p"),t._uU(5),t.qZA()()(),t.TgZ(6,"div"),t._uU(7),t.qZA()(),t.TgZ(8,"div")(9,"button",4),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.checkout())}),t._uU(10,"checkout"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(5),t.hij("Total: ",e.shoppingCart.items.length," items"),t.xp6(2),t.hij(" R ",e.cartTotalPrice," ")}}function lt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"img",10),t.qZA(),t.TgZ(3,"div",11)(4,"div",12)(5,"div")(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"div",13),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.removeFromCart(o.productId._id))}),t._UZ(11,"i",14),t.qZA()(),t.TgZ(12,"p",15),t._uU(13),t.qZA(),t.TgZ(14,"div",12)(15,"p"),t._uU(16,"Quantity:"),t.qZA(),t.TgZ(17,"div")(18,"input",16),t.NdJ("change",function(n){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.changeValue(n,a.productId._id))}),t.qZA()()()()()}if(2&r){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.productId.image,t.LSH),t.xp6(5),t.Oqu(e.productId.name),t.xp6(2),t.hij("R ",e.price,""),t.xp6(4),t.Oqu(e.productId.description),t.xp6(5),t.Q6J("placeholder",e.quantity)}}function gt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,lt,19,5,"div",5),t.TgZ(2,"form",6)(3,"h1"),t._uU(4,"EXTRAS"),t.qZA(),t.TgZ(5,"textarea",7),t.NdJ("ngModelChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.extraText=n)}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.shoppingCart.items),t.xp6(4),t.Q6J("ngModel",e.extraText)}}function mt(r,s){1&r&&(t.TgZ(0,"div")(1,"div",17)(2,"h1"),t._uU(3,"Your cart is empty."),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Let's fill it up with awesome stuff!"),t.qZA(),t.TgZ(6,"button",18),t._uU(7,"BROWSER ITEMS"),t.qZA()()())}let _t=(()=>{class r{constructor(e,i,n,o,a){this.inventoryService=e,this.cartService=i,this.authService=n,this.router=o,this.toaster=a,this.cartTotalPrice=0,this.extraText=null,this.shoppingCart={_id:"",userId:"",items:[{productId:{_id:"",name:"",price:0,image:"",description:"",seller:""},quantity:0,price:0}]}}ngOnInit(){var e=this;null==this.authService.isLoggedIn()&&this.router.navigate(["/sign-in"]),this.authService.loggedInUser.subscribe(function(){var i=(0,g.Z)(function*(n){null!=n&&(e.shoppingCart.userId=yield n.userId,e.cartService.getCartByUserId(n.userId).subscribe(function(){var o=(0,g.Z)(function*(a){e.shoppingCart=yield a,e.shoppingCart.items.forEach(l=>{e.cartTotalPrice+=l.price})});return function(a){return o.apply(this,arguments)}}()))});return function(n){return i.apply(this,arguments)}}())}changeValue(e,i){"change"==e.type&&(this.cartTotalPrice=0,this.shoppingCart.items.forEach(n=>{n.productId._id==i&&(n.quantity=e.target.value,n.price=n.productId.price*n.quantity),this.cartTotalPrice+=n.price}))}removeFromCart(e){this.shoppingCart.items=this.shoppingCart.items.filter(i=>i.productId._id!==e),this.cartTotalPrice=0,this.cartService.updateUserCart(this.shoppingCart.userId,this.shoppingCart).subscribe(i=>{"SUCCESS"==i.status?(this.toaster.success({detail:i.status,summary:i.message}),this.shoppingCart.items.forEach(n=>{this.cartTotalPrice+=n.productId.price*n.quantity})):this.toaster.error({detail:i.status,summary:i.message})})}checkout(){const e={user:this.shoppingCart.userId,seller:this.shoppingCart.items[0].productId.seller,items:this.shoppingCart.items,status:"UNFURFILLED",chat:[{chat:this.extraText}],total:this.cartTotalPrice};e?this.inventoryService.addToSellerInventory(e).subscribe({next:i=>{this.shoppingCart.items=[],this.cartService.updateUserCart(this.shoppingCart.userId,this.shoppingCart).subscribe(n=>{"SUCCESS"==n.status?(this.toaster.success({detail:n.status,summary:"Product(s) succussfully placed"}),this.cartTotalPrice=0,this.router.navigate([`cart/final-order/${i.message._id}`])):this.toaster.error({detail:n.status,summary:n.message})})},error:i=>{console.log(i)}}):this.toaster.error({detail:"ERROR",summary:"Order not furfilled"})}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(P.V),t.Y36(b),t.Y36(h.e),t.Y36(p.F0),t.Y36(_.s))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart"]],decls:3,vars:3,consts:[["class","checkout-container",4,"ngIf"],[4,"ngIf"],[1,"checkout-container"],[1,"checkout"],[1,"checkout-btn",3,"click"],["class","main",4,"ngFor","ngForOf"],[1,"mainExtras"],["name","add-on","id","add-on-textarea",3,"ngModel","ngModelChange"],[1,"main"],[1,"image"],["alt","",3,"src"],[1,"primary"],[1,"second"],[1,"bin",3,"click"],[1,"fa-solid","fa-trash"],[1,"productdescription"],["type","number",3,"placeholder","change"],[1,"holderImages"],["routerLink","/",2,"background-color","var(--accent-color)","color","white","border-radius","10px","border","0px","padding","10px","margin","10px"]],template:function(i,n){1&i&&(t.YNc(0,ut,11,2,"div",0),t.YNc(1,gt,6,2,"div",1),t.YNc(2,mt,8,0,"div",1)),2&i&&(t.Q6J("ngIf",null!=n.shoppingCart&&0!=n.shoppingCart.items.length),t.xp6(1),t.Q6J("ngIf",null!=n.shoppingCart&&0!=n.shoppingCart.items.length),t.xp6(1),t.Q6J("ngIf",null==n.shoppingCart||0==n.shoppingCart.items.length))},dependencies:[u.sg,u.O5,p.rH,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F],styles:[".main[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr;margin-top:10px;background-color:#f5f5c0;padding:var(--border-10);border-radius:var(--border-10)}.main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.main[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 1fr}p[_ngcontent-%COMP%]{margin:2px}.bin[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px}.checkout-container[_ngcontent-%COMP%]{width:100%;position:fixed;bottom:0;padding:25px 0;left:0;background-color:#fff;box-shadow:0 0 5px #a7a7a7}.checkout[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.checkout[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 10px}.checkout-btn[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff;background-color:#000;border-radius:var(--border-10);padding:var(--border-10);margin:var(--box-margin);border:0;text-transform:uppercase}.mainExtras[_ngcontent-%COMP%]{margin-top:10px;background-color:#f5f5c0;padding:var(--border-10);border-radius:var(--border-10)}.mainExtras[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;min-height:150px}"]})}return r})();function ht(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.viewSellerProfile(o._id))}),t._UZ(1,"img",5),t.TgZ(2,"div",6)(3,"p",7),t._uU(4),t.qZA()()()}if(2&r){const e=s.$implicit;t.xp6(1),t.Q6J("src",e.profileImage,t.LSH),t.xp6(3),t.Oqu(e.name)}}function ft(r,s){if(1&r&&(t.TgZ(0,"div",2),t.YNc(1,ht,5,2,"div",3),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.seller)}}function Ct(r,s){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.viewProduct(o._id,o.name))}),t._UZ(2,"img",12),t.TgZ(3,"div",6)(4,"h1",13),t._uU(5),t.qZA(),t.TgZ(6,"p",14),t._uU(7),t.qZA(),t.TgZ(8,"div",15)(9,"div")(10,"span"),t._uU(11),t._UZ(12,"br"),t._uU(13,"rating"),t.qZA()(),t.TgZ(14,"button",16),t._uU(15,"VIEW"),t.qZA()()()(),t.BQk()}if(2&r){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.MGl("title","$",e.name,""),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(4),t.hij("Price: R ",e.price,""),t.xp6(3),t.s9C("id",e._id)}}function vt(r,s){if(1&r&&(t.TgZ(0,"div")(1,"div",8)(2,"div")(3,"h3"),t._uU(4,"PRODUCTS"),t.qZA()()(),t.TgZ(5,"div",9),t.YNc(6,Ct,16,6,"ng-container",10),t.qZA()()),2&r){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.productsToShow)}}function xt(r,s){1&r&&(t.TgZ(0,"div",18)(1,"h1"),t._uU(2,"opps"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"looks like no product matches your description"),t.qZA()())}function bt(r,s){if(1&r&&(t.TgZ(0,"div",18),t._UZ(1,"img",19),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.progressLoader,t.LSH)}}function yt(r,s){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,xt,5,0,"div",17),t.YNc(2,bt,2,1,"div",17),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.searching),t.xp6(1),t.Q6J("ngIf",e.searching)}}let Pt=(()=>{class r{constructor(e,i,n,o){this.userService=e,this.productService=i,this.activeRoute=n,this.router=o,this.productsToShow=[],this.seller=[],this.progressLoader="../../../assets/icons/loader.gif",this.searching=!0}ngOnInit(){this.activeRoute.params.subscribe(e=>{const{query:i}=e;this.productService.getProductBySearch({search:i}).subscribe(n=>{this.searching=!1,this.productsToShow=[],this.seller=[],n.forEach(o=>{this.productsToShow.push(o)}),this.userService.searchForUser({search:i}).subscribe(o=>{o.forEach(a=>this.seller.push(a))})})})}viewProduct(e,i){var n=this;return(0,g.Z)(function*(){n.productService.addToRecentlyViewedProduct(e);const o=i.split(" ").join("-");n.router.navigate([`product/${o}/pd/${e}`])})()}viewSellerProfile(e){this.router.navigate([`./profile/${e}`])}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(C.K),t.Y36(m.M),t.Y36(p.gz),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search"]],decls:3,vars:3,consts:[["id","productItemsDisplay",4,"ngIf"],[4,"ngIf"],["id","productItemsDisplay"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[3,"src"],[1,"ItemDescription"],[1,"productname"],["id","productItemCatergoryBar"],["id","productItemsDisplay2"],[4,"ngFor","ngForOf"],[1,"item1",3,"click"],["alt","Product Image",1,"product-image",3,"src"],[1,"productname",3,"title"],[1,"productdescription"],[1,"productprice"],[1,"purchase-btn",3,"id"],["class","holderImages",4,"ngIf"],[1,"holderImages"],["alt","",3,"src"]],template:function(i,n){1&i&&(t.YNc(0,ft,2,1,"div",0),t.YNc(1,vt,7,1,"div",1),t.YNc(2,yt,3,2,"div",1)),2&i&&(t.Q6J("ngIf",0!=n.seller.length),t.xp6(1),t.Q6J("ngIf",0!=n.productsToShow.length),t.xp6(1),t.Q6J("ngIf",0==n.productsToShow.length))},dependencies:[u.sg,u.O5],styles:["#productItemsDisplay2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,350px));gap:10px;margin:5px}.purchase-btn[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center}.holderImages[_ngcontent-%COMP%]{width:100%;text-align:center;max-height:400px;margin:20% auto}.holderImages[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--accent-color);text-transform:uppercase;width:100%}.holderImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:60%;mix-blend-mode:screen}.item1[_ngcontent-%COMP%]{padding:var(--border-10);background-color:var(--secondaryColor);border-radius:var(--border-10);margin:0 5px}.item[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:95%}#productItemsDisplay[_ngcontent-%COMP%]{max-height:500px;display:flex;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:10px}#productItemsDisplay[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .productname[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;justify-content:center}#productItemsDisplay[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:10%;background-color:#00f}"]})}return r})();var Ot=d(1675);let Mt=(()=>{class r{constructor(e,i){this.productService=e,this.router=i}viewProduct(e,i){var n=this;return(0,g.Z)(function*(){n.productService.addToRecentlyViewedProduct(e);const o=i.split(" ").join("-");n.router.navigate([`product/${o}/pd/${e}`])})()}static#t=this.\u0275fac=function(i){return new(i||r)(t.LFG(m.M),t.LFG(p.F0))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Zt(r,s){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.viewProductDetails(o._id,o.name))}),t._UZ(2,"img",6),t.TgZ(3,"div",7)(4,"h1",8),t._uU(5),t.qZA(),t.TgZ(6,"p",9),t._uU(7),t.qZA(),t.TgZ(8,"div",10)(9,"div")(10,"span"),t._uU(11),t._UZ(12,"br"),t.qZA()()()()(),t.BQk()}if(2&r){const e=s.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.MGl("title","$",e.name,""),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(4),t.hij("Price: R ",e.price,"")}}const It=[{path:"",component:U},{path:"product/:productname/pd/:productid",component:dt},{path:"cart",component:_t,canActivate:[Ot.M]},{path:"sign-in",component:F},{path:"sign-up",component:X},{path:"search/:query",component:Pt},{path:"profile/:seller",component:(()=>{class r{constructor(e,i,n,o){this.productService=e,this.activeRoute=i,this.userService=n,this.viewProductServ=o,this.products=[],this.userId=""}ngOnInit(){this.activeRoute.params.subscribe(e=>{this.userId=e.seller,this.productService.getAllSellerProducts(this.userId).subscribe(i=>{this.products=i}),this.userService.getUserById(this.userId).subscribe(i=>{this.user=i})})}viewProductDetails(e,i){this.viewProductServ.viewProduct(e,i)}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(m.M),t.Y36(p.gz),t.Y36(C.K),t.Y36(Mt))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-view-profile"]],decls:7,vars:4,consts:[["id","container"],["id","sellerHolder"],["alt","profile picture",3,"src"],["id","productItemsDisplay"],[4,"ngFor","ngForOf"],[1,"item1",3,"click"],["alt","Product Image",1,"product-image",3,"src"],[1,"ItemDescription"],[1,"productname",3,"title"],[1,"productdescription"],[1,"productprice"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"h1"),t._uU(4),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,Zt,13,5,"ng-container",4),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("src",null==n.user?null:n.user.profileImage,t.LSH),t.xp6(2),t.AsE("",null==n.user?null:n.user.name," ",null==n.user?null:n.user.surname,""),t.xp6(2),t.Q6J("ngForOf",n.products))},dependencies:[u.sg],styles:["#sellerHolder[_ngcontent-%COMP%]{text-align:center}#sellerHolder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:0px}#productItemsDisplay[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:10px;margin:5px}.addItem[_ngcontent-%COMP%]{border-radius:var(--border-10);min-height:250px;background-color:var(--accent-color);display:flex;align-items:center;justify-content:center}.addItem[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px}.purchase-btn[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center}.purchase-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:2.5px;max-width:25px}.item1[_ngcontent-%COMP%]{padding:var(--border-10);background-color:var(--secondaryColor);border-radius:var(--border-10);margin:0 5px}.item[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:95%}@media (min-width: 810px){#container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr}}"]})}return r})()},{path:"cart/final-order/:id",component:(()=>{class r{constructor(e,i,n){this.inventoryService=e,this.authService=i,this.activeRouter=n,this.cartTotalPrice=0,this.inventory={_id:"",items:[],seller:"",status:"",total:0,user:"",chat:[]}}ngOnInit(){var e=this;this.authService.loggedInUser.subscribe(function(){var i=(0,g.Z)(function*(n){null!=n&&e.activeRouter.params.subscribe(o=>{e.inventoryService.getOrderById(o.id).subscribe(function(){var a=(0,g.Z)(function*(l){e.inventory=l});return function(l){return a.apply(this,arguments)}}())})});return function(n){return i.apply(this,arguments)}}())}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(P.V),t.Y36(h.e),t.Y36(p.gz))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart-finalize-order"]],decls:2,vars:0,template:function(i,n){1&i&&(t.TgZ(0,"p"),t._uU(1,"cart-finalize-order works!"),t.qZA())}})}return r})()}];let St=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(It),p.Bz]})}return r})(),kt=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[u.ez,St,c.UX,c.u5]})}return r})()}}]);