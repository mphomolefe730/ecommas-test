"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[785],{785:(N,m,a)=>{a.r(m),a.d(m,{BusinessModule:()=>F});var l=a(6814),u=a(8589),g=a(5861),e=a(4946),b=a(5862),h=a(1836),v=a(756);function x(t,c){if(1&t&&(e.TgZ(0,"p",4),e._uU(1),e.qZA()),2&t){const s=c.$implicit;e.Q6J("routerLink",s.link),e.xp6(1),e.Oqu(s.name)}}let _=(()=>{class t{constructor(s,n,i){this.inventoryService=s,this.authService=n,this.roleService=i,this.user="",this.sideLinks=[{name:"Tips",link:"tips",image:""},{name:"Register",link:"register",image:""},{name:"Stuff",link:"stuff",image:""},{name:"Look",link:"look",image:""}]}ngOnInit(){var s=this;this.authService.loggedInUser.subscribe(function(){var n=(0,g.Z)(function*(i){s.user=yield i.name});return function(i){return n.apply(this,arguments)}}())}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(b.V),e.Y36(h.e),e.Y36(v.N))};static#s=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-business-home"]],decls:7,vars:1,consts:[[1,"container"],[1,"welcome"],[1,"sideMenu"],["routerLinkActive","active1","class","actionButton",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active1",1,"actionButton",3,"routerLink"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2," BUSINESS MANAGER "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,x,2,2,"p",3),e.qZA(),e.TgZ(5,"div"),e._UZ(6,"router-outlet"),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngForOf",i.sideLinks))},dependencies:[l.sg,u.lC,u.rH,u.Od],styles:[".sideMenu[_ngcontent-%COMP%]{overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:10px;display:flex}.sideMenu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;min-width:100px;padding:10px 5px;margin:0 5px}"]})}return t})();var o=a(95),p=a(9947),C=a(9862);let d=(()=>{class t{constructor(s){this.http=s}registerABusiness(s){return this.http.post(`${p.N.renderApiLink}/api/business/add`,s)}getBusinessBySellerId(s){return this.http.get(`${p.N.renderApiLink}/api/business/seller/${s}`)}getAllBusinessTipSummaries(s){return this.http.post(`${p.N.renderApiLink}/api/businessTips/summary`,{page:s})}getBusinessTipById(s){return this.http.get(`${p.N.renderApiLink}/api/businessTips/${s}`)}static#e=this.\u0275fac=function(n){return new(n||t)(e.LFG(C.eN))};static#s=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var T=a(1064);function M(t,c){if(1&t&&e._UZ(0,"img",10),2&t){const s=e.oxw(2);e.Q6J("src",s.progressLoader,e.LSH)}}function Z(t,c){if(1&t){const s=e.EpF();e.TgZ(0,"form",2)(1,"div")(2,"label",3),e._uU(3,"Business Name:"),e.qZA(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(i){e.CHM(s);const r=e.oxw();return e.KtG(r.businessFormWorking.businessName=i)}),e.qZA()(),e.TgZ(5,"div")(6,"label",5),e._uU(7,"Business Description:"),e.qZA(),e.TgZ(8,"textarea",6),e.NdJ("ngModelChange",function(i){e.CHM(s);const r=e.oxw();return e.KtG(r.businessFormWorking.businessDescription=i)}),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.submitBusinessForm())}),e._uU(11," SAVE"),e.YNc(12,M,1,1,"img",9),e.qZA()()()}if(2&t){const s=e.oxw();e.Q6J("formGroup",s.businessForm),e.xp6(4),e.Q6J("ngModel",s.businessFormWorking.businessName),e.xp6(4),e.Q6J("ngModel",s.businessFormWorking.businessDescription),e.xp6(4),e.Q6J("ngIf",s.sending)}}function y(t,c){1&t&&(e.TgZ(0,"div",11)(1,"h1"),e._uU(2,"business exist"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"looks like your account is registered under a business, go to look to edit details or use button below"),e.qZA(),e.TgZ(5,"button",12),e._uU(6,"EDIT BUSINESS"),e.qZA()())}let B=(()=>{class t{constructor(s,n,i){this.businessManagerService=s,this.toaster=n,this.authService=i,this.sending=!1,this.progressLoader="../../../../assets/icons/loader.gif",this.doesNotExist=!0,this.businessFormWorking={businessName:"",businessDescription:"",userId:""},this.businessForm=new o.cw({businessName:new o.NI(this.businessFormWorking.businessName,o.kI.required),businessDescription:new o.NI(this.businessFormWorking.businessName,o.kI.required),userId:new o.NI(this.businessFormWorking.userId)})}ngOnInit(){var s=this;this.authService.loggedInUser.subscribe(function(){var n=(0,g.Z)(function*(i){s.businessFormWorking.userId=yield i.userId,s.businessManagerService.getBusinessBySellerId(s.businessFormWorking.userId).subscribe({next:r=>{"success"==r.message&&(s.doesNotExist=!1)},error:r=>{console.log(r)}})});return function(i){return n.apply(this,arguments)}}())}submitBusinessForm(){if(this.sending=!0,this.businessForm.value.userId=this.businessFormWorking.userId,this.businessForm.invalid)return this.sending=!1,this.toaster.error({detail:"ERROR",summary:"Please fill in all the fields"});this.businessManagerService.registerABusiness(this.businessForm.value).subscribe({next:s=>{this.sending=!1,this.toaster.success({detail:s.message,summary:"Business successfully registered"})},error:s=>{this.sending=!1,console.log(s)}})}get businessName(){return this.businessForm.get("businessName")}get businessDescription(){return this.businessForm.get("businessDescription")}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(d),e.Y36(T.s),e.Y36(h.e))};static#s=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-business-registration"]],decls:4,vars:2,consts:[[3,"formGroup",4,"ngIf"],["class","holderImages",4,"ngIf"],[3,"formGroup"],["for","businessName"],["type","text","formControlName","businessName",3,"ngModel","ngModelChange"],["for","businessDescription"],["formControlName","businessDescription",3,"ngModel","ngModelChange"],[1,"buttonSection"],[1,"actionButton",3,"click"],["class","loader",3,"src",4,"ngIf"],[1,"loader",3,"src"],[1,"holderImages"],["routerLink","/seller/business/look",2,"background-color","var(--accent-color)","color","white","border-radius","10px","border","0px","padding","10px","margin","10px"]],template:function(n,i){1&n&&(e.TgZ(0,"div"),e.YNc(1,Z,13,4,"form",0),e.TgZ(2,"div"),e.YNc(3,y,7,0,"div",1),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.doesNotExist),e.xp6(2),e.Q6J("ngIf",!i.doesNotExist))},dependencies:[l.O5,u.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:["form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:10px 0}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:25px;border:1px solid black;border-radius:var(--border-10)}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px}.actionButton[_ngcontent-%COMP%]{border:0;background-color:#000;padding:15px;width:100%;border-radius:var(--radiusForButtons);color:#fff}"]})}return t})();function k(t,c){if(1&t){const s=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const r=e.CHM(s).$implicit,f=e.oxw();return e.KtG(f.viewArticle(r.businessTipId))}),e.TgZ(1,"div")(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"img",4),e.qZA(),e.TgZ(6,"div",5)(7,"h3"),e._uU(8),e.qZA(),e.TgZ(9,"small"),e._uU(10),e.qZA()()()}if(2&t){const s=c.$implicit,n=c.index;e.xp6(3),e.hij(" ",n+1," "),e.xp6(2),e.Q6J("src",s.tipThumbnail,e.LSH),e.xp6(3),e.hij(" ",s.tipTitle," "),e.xp6(2),e.Oqu(s.tipDescription)}}const O=[{path:"",component:_,children:[{path:"",redirectTo:"tips",pathMatch:"full"},{path:"tips",component:(()=>{class t{constructor(s,n){this.businessServiceManager=s,this.router=n,this.page=0,this.summaries=[]}ngOnInit(){this.businessServiceManager.getAllBusinessTipSummaries(this.page).subscribe({next:s=>{s.object.forEach(n=>{this.summaries.unshift(n)}),console.log(s.object)},error:s=>{console.log(s)}})}viewArticle(s){this.router.navigate([`seller/business/tips/${s}`])}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(d),e.Y36(u.F0))};static#s=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-business-tips"]],decls:2,vars:1,consts:[["id","parent"],["class","container",3,"click",4,"ngFor","ngForOf"],[1,"container",3,"click"],[1,"thumblenail"],["alt","image of youtube video",3,"src"],[1,"information"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,k,11,4,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",i.summaries))},dependencies:[l.sg],styles:['.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:.1fr 1fr 5fr;border:0;border-radius:var(--border-10);background-color:var(--accent-color);color:#fff;padding:10px 0;animation-name:"rightTransition";animation-duration:.5}.thumblenail[_ngcontent-%COMP%]{text-align:center}.thumblenail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;border-radius:var(--border-10)}.information[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .information[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin:5px}#parent[_ngcontent-%COMP%]{display:block}@media (min-width: 809px){#parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}']})}return t})()},{path:"register",component:B},{path:"tips/:id",component:(()=>{class t{constructor(s,n){this.activeRouter=s,this.businessServiceManager=n,this.tip={title:"",description:"",link:"",ratings:0,comments:[],createdAt:""}}ngOnInit(){var s=this;this.activeRouter.params.subscribe(n=>{var i;this.businessServiceManager.getBusinessTipById(n.id).subscribe({next:(i=(0,g.Z)(function*(r){"success"==r.status&&(s.tip=yield r.object[0],console.log(r.object[0]))}),function(f){return i.apply(this,arguments)}),error:i=>{console.log(i)}})})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(u.gz),e.Y36(d))};static#s=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-business-view-tip"]],decls:11,vars:4,consts:[[2,"border","0","background-color","rgba(0,0,0,1)","margin-left","2%","padding","5px 15px","border-radius","var(--radiusForButtons)","color","white"],["width","100%","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",3,"src"],[2,"overflow-wrap","break-word"]],template:function(n,i){1&n&&(e.TgZ(0,"div")(1,"span",0),e._uU(2,"CLOSE"),e.qZA(),e.TgZ(3,"h1"),e._uU(4),e.qZA(),e.TgZ(5,"small"),e._uU(6),e.qZA(),e._UZ(7,"iframe",1),e.TgZ(8,"div")(9,"p",2),e._uU(10),e.qZA()()()),2&n&&(e.xp6(4),e.Oqu(i.tip.title),e.xp6(2),e.hij("date created: ",i.tip.createdAt.toString().slice(0,10),""),e.xp6(1),e.Q6J("src",i.tip.link,e.uOi),e.xp6(3),e.Oqu(i.tip.description))},styles:["iframe[_ngcontent-%COMP%]{background-color:#000;border-radius:var(--border-10);min-height:30%}"]})}return t})()}]}];let A=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#s=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(O),u.Bz]})}return t})(),F=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#s=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[l.ez,A,o.UX,o.u5]})}return t})()}}]);